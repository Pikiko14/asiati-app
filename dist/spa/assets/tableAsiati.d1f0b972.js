import{e as B,f as I,Q as N,d as E}from"./QTable.976bda8f.js";import{o as T,e as A,G as b,I as v,K as D,x as R,bf as V,Y as z,ai as M,r as _,Z as O,B as j,aj as H,_ as K,$ as c,ae as L,a2 as o,a1 as t,az as W,af as F,aA as G,ah as U,an as m,a0 as p,a4 as f}from"./index.14ee5053.js";import{e as Y,d as g,Q as w,a as h}from"./QList.526f9656.js";var q=T({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:r}){const l=D(),n=A(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return b("td",{class:n.value},v(r.default));const u=l.vnode.key,s=(e.props.colsMap!==void 0?e.props.colsMap[u]:null)||e.props.col;if(s===void 0)return;const{row:a}=e.props;return b("td",{class:n.value+s.__tdClass(a),style:s.__tdStyle(a)},v(r.default))}}});function Z(){return R(V)}const x=z({name:"TableAsiati",emits:["do-delete","do-edit","do-show"],props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]},totalItems:Number,permissionEdit:{type:String,default:()=>""},permissionDelete:{type:String,default:()=>""},permissionShow:{type:String,default:()=>""}},setup(e,{emit:r}){const l=Z(),n=M(),u=_({admin:"Administrador",ceo:"CEO"}),s=_({page:1,rowsPerPage:12,rowsNumber:1}),a=O();j(()=>e.totalItems,()=>{s.value.rowsNumber=e.totalItems});const d=i=>{l.dialog({title:"Eliminar",message:"\xBFDeseas eliminar este elemento?",cancel:!0,persistent:!0}).onOk(()=>{r("do-delete",i)}).onCancel(()=>{})},k=i=>{const{pagination:y}=i,P=y.page||1,$=y.rowsPerPage||12,S=n.query.search||"";a.push({query:{page:P,perPage:$,search:S}})},C=i=>{r("do-edit",i)},Q=i=>{r("do-show",i)};return H(()=>{n.query.page&&(s.value.page=Number(n.query.page)),n.query.perPage&&(s.value.rowsPerPage=Number(n.query.perPage)),e.totalItems&&(s.value.rowsNumber=e.totalItems)}),{roles:u,doEdit:C,doShow:Q,doDolete:d,onRequest:k,pagination:s}}}),J={class:"full-width q-mt-lg"},X={class:"full-width text-center q-pt-md"};function ee(e,r,l,n,u,s){return c(),L("section",J,[o(E,{onRequest:e.onRequest,"rows-per-page-options":[1,5,12,20,50],pagination:e.pagination,"onUpdate:pagination":r[0]||(r[0]=a=>e.pagination=a),"row-key":"_id",class:"shadow-0 round-10",columns:e.rows,rows:e.columns},{"body-cell-userType":t(a=>[o(q,null,{default:t(()=>[o(B,{class:W([{"admin-chip":a.row.role==="admin","ceo-chip":a.row.role==="ceo"},"text-white"]),color:"secondary",size:"8pt"},{default:t(()=>[F("p",X,G(e.roles[a.row.role]),1)]),_:2},1032,["class"])]),_:2},1024)]),"body-cell-option":t(a=>[o(q,null,{default:t(()=>[o(U,{size:"8pt",flat:"",round:"",icon:"img:/images/options.svg"},{default:t(()=>[o(I,{class:"bg-primary"},{default:t(()=>[m(" Opciones ")]),_:1}),o(N,{class:"round-10"},{default:t(()=>[o(Y,{dense:""},{default:t(()=>[e.$hasPermission(e.permissionShow)?(c(),p(h,{key:0,clickable:"",onClick:d=>e.doShow(a.row)},{default:t(()=>[o(g,null,{default:t(()=>[o(w,{class:"text-primary text-weight-semi-bold"},{default:t(()=>[m(" Ver ")]),_:1})]),_:1})]),_:2},1032,["onClick"])):f("",!0),e.$hasPermission(e.permissionEdit)?(c(),p(h,{key:1,clickable:"",onClick:d=>e.doEdit(a.row._id)},{default:t(()=>[o(g,null,{default:t(()=>[o(w,{class:"text-primary text-weight-semi-bold"},{default:t(()=>[m(" Editar ")]),_:1})]),_:1})]),_:2},1032,["onClick"])):f("",!0),e.$hasPermission(e.permissionDelete)?(c(),p(h,{key:2,clickable:"",onClick:d=>e.doDolete(a.row._id)},{default:t(()=>[o(g,null,{default:t(()=>[o(w,{class:"text-primary text-weight-semi-bold"},{default:t(()=>[m(" Eliminar ")]),_:1})]),_:1})]),_:2},1032,["onClick"])):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["onRequest","pagination","columns","rows"])])}var se=K(x,[["render",ee]]);export{se as T};
