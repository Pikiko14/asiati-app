import{Q as Kt}from"./QPage.26cd991d.js";import{x as Wt,y as vt,r as x,e as i,E as Ct,C as zt,aD as It,F as Et,aE as Gt,G as b,m as We,af as Xt,aF as Jt,a3 as ze,X as Zt,K as Ne,aG as ea,aH as ta,o as Le,ai as mt,w as Tt,B as ve,M as aa,aw as oa,ax as na,I as Ge,f as la,c as Ke,n as sa,l as ia,g as it,p as ft,j as $t,k as ht,D as gt,al as Be,aI as ra,aJ as ca,q as xt,v as Vt,H as ua,Y as ye,_ as Ce,$ as me,aC as be,a2 as p,a1 as z,a6 as t,ar as P,a4 as Ie,aK as da,aL as va,aM as ma,aN as fa,aa as de,aO as ha,ad as bt,a0 as Rt,a8 as pa,a9 as yt,ac as ie,a5 as _a,a7 as ga}from"./index.f8830be8.js";import{Q as ba,g as qt,s as St}from"./QResizeObserver.0bc80b80.js";import{r as ya,u as Oe,Q as Ca,a as Ot,H as wa}from"./headers.491b9d41.js";import{Q as Ee,a as Ma}from"./QTable.6bebdade.js";import{c as Da,p as Se,u as Pa,g as Ta,C as $a,M as qa}from"./modalCard.64c5e405.js";import{U as Bt}from"./utils.a1a27416.js";import{t as Sa,a as kt,f as Oa,g as ka,j as pt,_ as Fa}from"./date.2a4b3519.js";import{Q as Aa}from"./QForm.2f7c127e.js";import"./auth.92ad8fad.js";import"./notification.9f215daf.js";let Ia=0;const Ea=["click","keydown"],xa={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ia++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Va(e,s,g,r){const d=Wt(It,vt);if(d===vt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),vt;const{proxy:c}=Ne(),n=x(null),C=x(null),V=x(null),T=i(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),y=i(()=>d.currentModel.value===e.name),v=i(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(d.tabProps.value.activeClass?" "+d.tabProps.value.activeClass:"")+(d.tabProps.value.activeColor?` text-${d.tabProps.value.activeColor}`:"")+(d.tabProps.value.activeBgColor?` bg-${d.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&d.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||d.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),q=i(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(d.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),S=i(()=>e.disable===!0||d.hasFocus.value===!0||y.value===!1&&d.hasActiveTab.value===!0?-1:e.tabindex||0);function B(D,_){if(_!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&We(D);return}if(r===void 0){d.updateModel({name:e.name}),g("click",D);return}if(r.hasRouterLink.value===!0){const L=(U={})=>{let Q;const X=U.to===void 0||ea(U.to,e.to)===!0?d.avoidRouteWatcher=ta():null;return r.navigateToRouterLink(D,{...U,returnRouterError:!0}).catch(Z=>{Q=Z}).then(Z=>{if(X===d.avoidRouteWatcher&&(d.avoidRouteWatcher=!1,Q===void 0&&(Z===void 0||Z.message!==void 0&&Z.message.startsWith("Avoided redundant navigation")===!0)&&d.updateModel({name:e.name})),U.returnRouterError===!0)return Q!==void 0?Promise.reject(Q):Z})};g("click",D,L),D.defaultPrevented!==!0&&L();return}g("click",D)}function F(D){Xt(D,[13,32])?B(D,!0):Jt(D)!==!0&&D.keyCode>=35&&D.keyCode<=40&&D.altKey!==!0&&D.metaKey!==!0&&d.onKbdNavigate(D.keyCode,c.$el)===!0&&We(D),g("keydown",D)}function I(){const D=d.tabProps.value.narrowIndicator,_=[],L=b("div",{ref:V,class:["q-tab__indicator",d.tabProps.value.indicatorClass]});e.icon!==void 0&&_.push(b(ze,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&_.push(b("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&_.push(e.alertIcon!==void 0?b(ze,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):b("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),D===!0&&_.push(L);const U=[b("div",{class:"q-focus-helper",tabindex:-1,ref:n}),b("div",{class:q.value},Zt(s.default,_))];return D===!1&&U.push(L),U}const oe={name:i(()=>e.name),rootRef:C,tabIndicatorRef:V,routeData:r};Ct(()=>{d.unregisterTab(oe)}),zt(()=>{d.registerTab(oe)});function re(D,_){const L={ref:C,class:v.value,tabindex:S.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:B,onKeydown:F,..._};return Et(b(D,L,I()),[[Gt,T.value]])}return{renderTab:re,$tabs:d}}var xe=Le({name:"QTab",props:xa,emits:Ea,setup(e,{slots:s,emit:g}){const{renderTab:r}=Va(e,s,g);return()=>r("div")}});function Ra(e,s,g){const r=g===!0?["left","right"]:["top","bottom"];return`absolute-${s===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const Ba=["left","center","right","justify"];var Na=Le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ba.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:s,emit:g}){const{proxy:r}=Ne(),{$q:d}=r,{registerTick:c}=mt(),{registerTick:n}=mt(),{registerTick:C}=mt(),{registerTimeout:V,removeTimeout:T}=Tt(),{registerTimeout:y,removeTimeout:v}=Tt(),q=x(null),S=x(null),B=x(e.modelValue),F=x(!1),I=x(!0),oe=x(!1),re=x(!1),D=[],_=x(0),L=x(!1);let U=null,Q=null,X;const Z=i(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ra(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ce=i(()=>{const m=_.value,M=B.value;for(let O=0;O<m;O++)if(D[O].name.value===M)return!0;return!1}),G=i(()=>`q-tabs__content--align-${F.value===!0?"left":re.value===!0?"justify":e.align}`),fe=i(()=>`q-tabs row no-wrap items-center q-tabs--${F.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),$=i(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+G.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),R=i(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),u=i(()=>e.vertical!==!0&&d.lang.rtl===!0),E=i(()=>ya===!1&&u.value===!0);ve(u,_e),ve(()=>e.modelValue,m=>{A({name:m,setCurrent:!0,skipEmit:!0})}),ve(()=>e.outsideArrows,ue);function A({name:m,setCurrent:M,skipEmit:O}){B.value!==m&&(O!==!0&&e["onUpdate:modelValue"]!==void 0&&g("update:modelValue",m),(M===!0||e["onUpdate:modelValue"]===void 0)&&(He(B.value,m),B.value=m))}function ue(){c(()=>{De({width:q.value.offsetWidth,height:q.value.offsetHeight})})}function De(m){if(R.value===void 0||S.value===null)return;const M=m[R.value.container],O=Math.min(S.value[R.value.scroll],Array.prototype.reduce.call(S.value.children,(W,H)=>W+(H[R.value.content]||0),0)),K=M>0&&O>M;F.value=K,K===!0&&n(_e),re.value=M<parseInt(e.breakpoint,10)}function He(m,M){const O=m!=null&&m!==""?D.find(W=>W.name.value===m):null,K=M!=null&&M!==""?D.find(W=>W.name.value===M):null;if(O&&K){const W=O.tabIndicatorRef.value,H=K.tabIndicatorRef.value;U!==null&&(clearTimeout(U),U=null),W.style.transition="none",W.style.transform="none",H.style.transition="none",H.style.transform="none";const N=W.getBoundingClientRect(),J=H.getBoundingClientRect();H.style.transform=e.vertical===!0?`translate3d(0,${N.top-J.top}px,0) scale3d(1,${J.height?N.height/J.height:1},1)`:`translate3d(${N.left-J.left}px,0,0) scale3d(${J.width?N.width/J.width:1},1,1)`,C(()=>{U=setTimeout(()=>{U=null,H.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",H.style.transform="none"},70)})}K&&F.value===!0&&se(K.rootRef.value)}function se(m){const{left:M,width:O,top:K,height:W}=S.value.getBoundingClientRect(),H=m.getBoundingClientRect();let N=e.vertical===!0?H.top-K:H.left-M;if(N<0){S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(N),_e();return}N+=e.vertical===!0?H.height-W:H.width-O,N>0&&(S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(N),_e())}function _e(){const m=S.value;if(m===null)return;const M=m.getBoundingClientRect(),O=e.vertical===!0?m.scrollTop:Math.abs(m.scrollLeft);u.value===!0?(I.value=Math.ceil(O+M.width)<m.scrollWidth-1,oe.value=O>0):(I.value=O>0,oe.value=e.vertical===!0?Math.ceil(O+M.height)<m.scrollHeight:Math.ceil(O+M.width)<m.scrollWidth)}function Xe(m){Q!==null&&clearInterval(Q),Q=setInterval(()=>{he(m)===!0&&ne()},5)}function Je(){Xe(E.value===!0?Number.MAX_SAFE_INTEGER:0)}function je(){Xe(E.value===!0?0:Number.MAX_SAFE_INTEGER)}function ne(){Q!==null&&(clearInterval(Q),Q=null)}function Ze(m,M){const O=Array.prototype.filter.call(S.value.children,J=>J===M||J.matches&&J.matches(".q-tab.q-focusable")===!0),K=O.length;if(K===0)return;if(m===36)return se(O[0]),O[0].focus(),!0;if(m===35)return se(O[K-1]),O[K-1].focus(),!0;const W=m===(e.vertical===!0?38:37),H=m===(e.vertical===!0?40:39),N=W===!0?-1:H===!0?1:void 0;if(N!==void 0){const J=u.value===!0?-1:1,le=O.indexOf(M)+N*J;return le>=0&&le<K&&(se(O[le]),O[le].focus({preventScroll:!0})),!0}}const rt=i(()=>E.value===!0?{get:m=>Math.abs(m.scrollLeft),set:(m,M)=>{m.scrollLeft=-M}}:e.vertical===!0?{get:m=>m.scrollTop,set:(m,M)=>{m.scrollTop=M}}:{get:m=>m.scrollLeft,set:(m,M)=>{m.scrollLeft=M}});function he(m){const M=S.value,{get:O,set:K}=rt.value;let W=!1,H=O(M);const N=m<H?-1:1;return H+=N*5,H<0?(W=!0,H=0):(N===-1&&H<=m||N===1&&H>=m)&&(W=!0,H=m),K(M,H),_e(),W}function et(m,M){for(const O in m)if(m[O]!==M[O])return!1;return!0}function ee(){let m=null,M={matchedLen:0,queryDiff:9999,hrefLen:0};const O=D.filter(N=>N.routeData!==void 0&&N.routeData.hasRouterLink.value===!0),{hash:K,query:W}=r.$route,H=Object.keys(W).length;for(const N of O){const J=N.routeData.exact.value===!0;if(N.routeData[J===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:le,query:ke,matched:nt,href:lt}=N.routeData.resolvedLink.value,Te=Object.keys(ke).length;if(J===!0){if(le!==K||Te!==H||et(W,ke)===!1)continue;m=N.name.value;break}if(le!==""&&le!==K||Te!==0&&et(ke,W)===!1)continue;const pe={matchedLen:nt.length,queryDiff:H-Te,hrefLen:lt.length-le.length};if(pe.matchedLen>M.matchedLen){m=N.name.value,M=pe;continue}else if(pe.matchedLen!==M.matchedLen)continue;if(pe.queryDiff<M.queryDiff)m=N.name.value,M=pe;else if(pe.queryDiff!==M.queryDiff)continue;pe.hrefLen>M.hrefLen&&(m=N.name.value,M=pe)}m===null&&D.some(N=>N.routeData===void 0&&N.name.value===B.value)===!0||A({name:m,setCurrent:!0})}function te(m){if(T(),L.value!==!0&&q.value!==null&&m.target&&typeof m.target.closest=="function"){const M=m.target.closest(".q-tab");M&&q.value.contains(M)===!0&&(L.value=!0,F.value===!0&&se(M))}}function Ye(){V(()=>{L.value=!1},30)}function ge(){tt.avoidRouteWatcher===!1?y(ee):v()}function Qe(){if(X===void 0){const m=ve(()=>r.$route.fullPath,ge);X=()=>{m(),X=void 0}}}function Pe(m){D.push(m),_.value++,ue(),m.routeData===void 0||r.$route===void 0?y(()=>{if(F.value===!0){const M=B.value,O=M!=null&&M!==""?D.find(K=>K.name.value===M):null;O&&se(O.rootRef.value)}}):(Qe(),m.routeData.hasRouterLink.value===!0&&ge())}function ae(m){D.splice(D.indexOf(m),1),_.value--,ue(),X!==void 0&&m.routeData!==void 0&&(D.every(M=>M.routeData===void 0)===!0&&X(),ge())}const tt={currentModel:B,tabProps:Z,hasFocus:L,hasActiveTab:ce,registerTab:Pe,unregisterTab:ae,verifyRouteModel:ge,updateModel:A,onKbdNavigate:Ze,avoidRouteWatcher:!1};aa(It,tt);function at(){U!==null&&clearTimeout(U),ne(),X!==void 0&&X()}let ot;return Ct(at),oa(()=>{ot=X!==void 0,at()}),na(()=>{ot===!0&&Qe(),ue()}),()=>b("div",{ref:q,class:fe.value,role:"tablist",onFocusin:te,onFocusout:Ye},[b(ba,{onResize:De}),b("div",{ref:S,class:$.value,onScroll:_e},Ge(s.default)),b(ze,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||d.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Je,onTouchstartPassive:Je,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne}),b(ze,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(oe.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||d.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:je,onTouchstartPassive:je,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne})])}});function La(e){const s=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((g,r)=>{const d=parseFloat(g);d&&(s[r]=d)}),s}var Ha=la({name:"touch-swipe",beforeMount(e,{value:s,arg:g,modifiers:r}){if(r.mouse!==!0&&Ke.has.touch!==!0)return;const d=r.mouseCapture===!0?"Capture":"",c={handler:s,sensitivity:La(g),direction:qt(r),noop:sa,mouseStart(n){St(n,c)&&ia(n)&&(it(c,"temp",[[document,"mousemove","move",`notPassive${d}`],[document,"mouseup","end","notPassiveCapture"]]),c.start(n,!0))},touchStart(n){if(St(n,c)){const C=n.target;it(c,"temp",[[C,"touchmove","move","notPassiveCapture"],[C,"touchcancel","end","notPassiveCapture"],[C,"touchend","end","notPassiveCapture"]]),c.start(n)}},start(n,C){Ke.is.firefox===!0&&ft(e,!0);const V=$t(n);c.event={x:V.left,y:V.top,time:Date.now(),mouse:C===!0,dir:!1}},move(n){if(c.event===void 0)return;if(c.event.dir!==!1){We(n);return}const C=Date.now()-c.event.time;if(C===0)return;const V=$t(n),T=V.left-c.event.x,y=Math.abs(T),v=V.top-c.event.y,q=Math.abs(v);if(c.event.mouse!==!0){if(y<c.sensitivity[1]&&q<c.sensitivity[1]){c.end(n);return}}else if(window.getSelection().toString()!==""){c.end(n);return}else if(y<c.sensitivity[2]&&q<c.sensitivity[2])return;const S=y/C,B=q/C;c.direction.vertical===!0&&y<q&&y<100&&B>c.sensitivity[0]&&(c.event.dir=v<0?"up":"down"),c.direction.horizontal===!0&&y>q&&q<100&&S>c.sensitivity[0]&&(c.event.dir=T<0?"left":"right"),c.direction.up===!0&&y<q&&v<0&&y<100&&B>c.sensitivity[0]&&(c.event.dir="up"),c.direction.down===!0&&y<q&&v>0&&y<100&&B>c.sensitivity[0]&&(c.event.dir="down"),c.direction.left===!0&&y>q&&T<0&&q<100&&S>c.sensitivity[0]&&(c.event.dir="left"),c.direction.right===!0&&y>q&&T>0&&q<100&&S>c.sensitivity[0]&&(c.event.dir="right"),c.event.dir!==!1?(We(n),c.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Da(),c.styleCleanup=F=>{c.styleCleanup=void 0,document.body.classList.remove("non-selectable");const I=()=>{document.body.classList.remove("no-pointer-events--children")};F===!0?setTimeout(I,50):I()}),c.handler({evt:n,touch:c.event.mouse!==!0,mouse:c.event.mouse,direction:c.event.dir,duration:C,distance:{x:y,y:q}})):c.end(n)},end(n){c.event!==void 0&&(ht(c,"temp"),Ke.is.firefox===!0&&ft(e,!1),c.styleCleanup!==void 0&&c.styleCleanup(!0),n!==void 0&&c.event.dir!==!1&&We(n),c.event=void 0)}};if(e.__qtouchswipe=c,r.mouse===!0){const n=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";it(c,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}Ke.has.touch===!0&&it(c,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,s){const g=e.__qtouchswipe;g!==void 0&&(s.oldValue!==s.value&&(typeof s.value!="function"&&g.end(),g.handler=s.value),g.direction=qt(s.modifiers))},beforeUnmount(e){const s=e.__qtouchswipe;s!==void 0&&(ht(s,"main"),ht(s,"temp"),Ke.is.firefox===!0&&ft(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete e.__qtouchswipe)}});function Nt(){let e=Object.create(null);return{getCache:(s,g)=>e[s]===void 0?e[s]=typeof g=="function"?g():g:e[s],setCache(s,g){e[s]=g},hasCache(s){return Object.hasOwnProperty.call(e,s)},clearCache(s){s!==void 0?delete e[s]:e=Object.create(null)}}}const ja={name:{required:!0},disable:Boolean},Ft={setup(e,{slots:s}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},Ge(s.default))}},Ya={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qa=["update:modelValue","beforeTransition","transition"];function Ua(){const{props:e,emit:s,proxy:g}=Ne(),{getCache:r}=Nt();let d,c;const n=x(null),C=x(null);function V($){const R=e.vertical===!0?"up":"left";Q((g.$q.lang.rtl===!0?-1:1)*($.direction===R?1:-1))}const T=i(()=>[[Ha,V,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=i(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=i(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),q=i(()=>`--q-transition-duration: ${e.transitionDuration}ms`),S=i(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),B=i(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),F=i(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ve(()=>e.modelValue,($,R)=>{const u=D($)===!0?_($):-1;c!==!0&&U(u===-1?0:u<_(R)?-1:1),n.value!==u&&(n.value=u,s("beforeTransition",$,R),gt(()=>{s("transition",$,R)}))});function I(){Q(1)}function oe(){Q(-1)}function re($){s("update:modelValue",$)}function D($){return $!=null&&$!==""}function _($){return d.findIndex(R=>R.props.name===$&&R.props.disable!==""&&R.props.disable!==!0)}function L(){return d.filter($=>$.props.disable!==""&&$.props.disable!==!0)}function U($){const R=$!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+($===-1?y.value:v.value):null;C.value!==R&&(C.value=R)}function Q($,R=n.value){let u=R+$;for(;u!==-1&&u<d.length;){const E=d[u];if(E!==void 0&&E.props.disable!==""&&E.props.disable!==!0){U($),c=!0,s("update:modelValue",E.props.name),setTimeout(()=>{c=!1});return}u+=$}e.infinite===!0&&d.length!==0&&R!==-1&&R!==d.length&&Q($,$===-1?d.length:-1)}function X(){const $=_(e.modelValue);return n.value!==$&&(n.value=$),!0}function Z(){const $=D(e.modelValue)===!0&&X()&&d[n.value];return e.keepAlive===!0?[b(ca,B.value,[b(F.value===!0?r(S.value,()=>({...Ft,name:S.value})):Ft,{key:S.value,style:q.value},()=>$)])]:[b("div",{class:"q-panel scroll",style:q.value,key:S.value,role:"tabpanel"},[$])]}function ce(){if(d.length!==0)return e.animated===!0?[b(Be,{name:C.value},Z)]:Z()}function G($){return d=ra(Ge($.default,[])).filter(R=>R.props!==null&&R.props.slot===void 0&&D(R.props.name)===!0),d.length}function fe(){return d}return Object.assign(g,{next:I,previous:oe,goTo:re}),{panelIndex:n,panelDirectives:T,updatePanelsList:G,updatePanelIndex:X,getPanelContent:ce,getEnabledPanels:L,getPanels:fe,isValidPanelName:D,keepAliveProps:B,needsUniqueKeepAliveWrapper:F,goToPanelByOffset:Q,goToPanel:re,nextPanel:I,previousPanel:oe}}var Ve=Le({name:"QTabPanel",props:ja,setup(e,{slots:s}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},Ge(s.default))}}),Ka=Le({name:"QTabPanels",props:{...Ya,...xt},emits:Qa,setup(e,{slots:s}){const g=Ne(),r=Vt(e,g.proxy.$q),{updatePanelsList:d,getPanelContent:c,panelDirectives:n}=Ua(),C=i(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(d(s),ua("div",{class:C.value},c(),"pan",e.swipeable,()=>n.value))}});const Wa=ye({name:"KpisComponent",setup(){const e=x("flow"),s=new Bt("dashboard"),g=Oe(),r=i(()=>g.metrics),d=i(()=>{const u=r.value.spend/r.value.clicks;return u>0?parseFloat(u.toFixed(2)):0}),c=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="link_click"&&(u=A.value),A))),u}),n=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="landing_page_view"&&(u=A.value),A))),u}),C=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="video_view"&&(u=A.value),A))),u}),V=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="post_reaction"&&(u=A.value),A))),u}),T=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="page_engagement"&&(u=A.value),A))),u}),y=i(()=>{var E;let u=0;return r.value&&r.value.actions&&((E=r.value)==null||E.actions.map(A=>(A.action_type==="post_engagement"&&(u=A.value),A))),u}),v=i(()=>g.metricsOrders),q=i(()=>{const u=v.value.shopify.totalShopify/r.value.spend;return u>0?parseFloat(u.toFixed(2)):0}),S=i(()=>{const u=v.value.collectionDropi/r.value.spend*100;return u>0?parseFloat(u.toFixed(2)):0}),B=i(()=>{const u=v.value.deliveredDropiOrders/v.value.totalDropiOrders*100;return u>0?parseFloat(u.toFixed(2)):0}),F=i(()=>{const u=r.value.spend/r.value.impressions;return u>0?parseFloat(u.toFixed(2)):0}),I=i(()=>{const u=v.value.totalDropiOrders/n.value;return u>0?parseFloat(u.toFixed(2)):0}),oe=i(()=>{const u=r.value.spend/(r.value.impressions/1e3);return u>0?parseFloat(u.toFixed(2)):0}),re=i(()=>{const u=r.value.spend/v.value.totalDropiOrders;return u>0?parseFloat(u.toFixed(2)):0}),D=i(()=>{const u=v.value.cancelledDropi/v.value.totalDropiOrders*100;return u>0?parseFloat(u.toFixed(2)):0}),_=i(()=>{const u=v.value.returnedDropiOrders/v.value.totalDropiOrders*100;return u>0?parseFloat(u.toFixed(2)):0}),L=i(()=>{const u=D.value+_.value;return v.value.totalOrdersDropiDelivered*(1-u/100)}),U=i(()=>{const u=L.value/r.value.spend*100;return u>0?parseFloat(u.toFixed(2)):0}),Q=i(()=>{const u=v.value.collectionDropi;return u>0?parseFloat(u.toFixed(2)):0}),X=i(()=>{const u=v.value.totalHistoricalDevolution/(v.value.totalDropiOrders-v.value.cancelledAndRejectedOrders-v.value.guiasAnuladas)*100;return u>0?parseFloat(u.toFixed(2)):0}),Z=i(()=>{const u=v.value.totalHistoricalCancelled/(v.value.totalDropiOrders-v.value.cancelledAndRejectedOrders-v.value.guiasAnuladas)*100;return u>0?parseFloat(u.toFixed(2)):0}),ce=i(()=>{const u=v.value.collectionDropi.toFixed(0),E=(parseInt(u)+parseInt(r.value.spend))/250;return E>0?E:0}),G=i(()=>.01104*v.value.totalOrdersDropiDelivered),fe=i(()=>{var E;let u=0;return u=v.value.utilidadBruta-v.value.devolucionFlete-((E=v==null?void 0:v.value)==null?void 0:E.fullFilmentTotal)-v.value.costoOperativo-ce.value,u}),$=i(()=>{let u=0;return fe.value>0&&(u=parseInt(fe.value.toFixed(0))*v.value.renttax),u}),R=i(()=>{let u=0;return u=fe.value-G.value-$.value,u});return{tab:e,roas:q,utils:s,cvrTax:I,utilidadNeta:R,utilidadRenta:$,utilidadIa:fe,provisionIca:G,cuatroXMil:ce,costBy1000:oe,videoViews:C,costBySell:re,metaMetrics:r,costByClick:d,clickOnLink:c,clickToRate:F,totalIncoming:L,cancelledRate:D,ordersMetrics:v,devolutionRate:_,reactionToPost:V,pageEngagement:T,postEngagement:y,destinyPageView:n,porcentDelivered:B,totalCollection:Q,taxDevolution:X,taxCancelled:Z,collectionOverInvertion:U,collectionOverInversion:S}}}),za={class:"full-width"},Ga={style:{}},Xa={class:"row"},Ja={class:"col-12 col-md-6"},Za=t("span",{class:"text-bold"},"INVERSI\xD3N PAUTA ($)",-1),eo=t("br",null,null,-1),to={class:"col-12 col-md-6 q-pl-md"},ao=t("span",{class:"text-bold"},"VENTAS SOBRE INVERSI\xD3N (ROAS)",-1),oo=t("br",null,null,-1),no={style:{}},lo={class:"row"},so={class:"col-12 col-md-6"},io=t("span",{class:"text-bold"},"TOTAL RECAUDO ($)",-1),ro=t("br",null,null,-1),co={class:"col-12 col-md-6 q-pl-md"},uo=t("span",{class:"text-bold"},"PEDIDOS ENTREGADOS ($)",-1),vo=t("br",null,null,-1),mo={style:{}},fo={class:"row"},ho={class:"col-12 col-md-6"},po=t("span",{class:"text-bold"},"% FC (RECAUDO SOBRE INVERSI\xD3N)",-1),_o=t("br",null,null,-1),go={class:"col-12 col-md-6 q-pl-md"},bo=t("span",{class:"text-bold"},"Tasa devoluicion Historica",-1),yo=t("br",null,null,-1),Co={style:{}},wo={class:"row"},Mo={class:"col-12 col-md-6 q-p-md"},Do=t("span",{class:"text-bold"},"Tasa cancelaci\xF3n historica",-1),Po=t("br",null,null,-1),To={style:{}},$o={class:"row"},qo={class:"col-12 col-md-6"},So=t("span",{class:"text-bold"},"VENTAS SHOPIFY($)",-1),Oo=t("br",null,null,-1),ko={class:"col-12 col-md-6 q-pl-md"},Fo=t("span",{class:"text-bold"},"PEDIDOS SHOPIFY",-1),Ao=t("br",null,null,-1),Io={class:"col-12 col-md-6 q-mt-sm"},Eo=t("span",{class:"text-bold"},"VENTAS ($)",-1),xo=t("br",null,null,-1),Vo={class:"col-12 col-md-6 q-pl-md q-mt-sm"},Ro=t("span",{class:"text-bold"},"PEDIDOS GENERADOS (QT)",-1),Bo=t("br",null,null,-1),No={class:"col-12 col-md-6 q-l-md q-mt-sm"},Lo=t("span",{class:"text-bold"},"PEDIDOS SUBIDOS A PLATAFORMA (QT)",-1),Ho=t("br",null,null,-1),jo={class:"col-12 col-md-6 q-pl-md q-mt-sm"},Yo=t("span",{class:"text-bold"},"% EFECTIVIDAD CONFIRMACIONES",-1),Qo=t("br",null,null,-1),Uo={style:{}},Ko={class:"row"},Wo={class:"col-12 col-md-6"},zo=t("span",{class:"text-bold"},"PEDIDOS ENTREGADOS (QT)",-1),Go=t("br",null,null,-1),Xo={class:"col-12 col-md-6 q-pl-md"},Jo=t("span",{class:"text-bold"},"DEVUELTOS (QT)",-1),Zo=t("br",null,null,-1),en={style:{}},tn={class:"row"},an={class:"col-12 col-md-6"},on=t("span",{class:"text-bold"}," PENDIENTES (QT)",-1),nn=t("br",null,null,-1),ln={class:"col-12 col-md-6 q-pl-md"},sn=t("span",{class:"text-bold"},"CANCELADOS (QT)",-1),rn=t("br",null,null,-1),cn={style:{}},un={class:"row"},dn={class:"col-12 col-md-6"},vn=t("span",{class:"text-bold"}," PENDIENTES DE CONFIRMACI\xD3N (QT)",-1),mn=t("br",null,null,-1),fn={class:"col-12 col-md-6 q-pl-md"},hn=t("span",{class:"text-bold"},"RECHAZADOS (QT)",-1),pn=t("br",null,null,-1),_n=t("span",{class:"text-bold"},"% EFECTIVIDAD ENTREGAS",-1),gn=t("br",null,null,-1),bn={style:{}},yn={class:"row"},Cn={class:"col-12 col-md-6"},wn=t("span",{class:"text-bold"},"CPC (Costo por clic)",-1),Mn=t("br",null,null,-1),Dn={class:"col-12 col-md-6 q-pl-md"},Pn=t("span",{class:"text-bold"}," CTR (CLIC TO RATE)",-1),Tn=t("br",null,null,-1),$n={style:{}},qn={class:"row"},Sn={class:"col-12 col-md-6"},On=t("span",{class:"text-bold"},"CVR (TASA DE CONVERSION)",-1),kn=t("br",null,null,-1),Fn={class:"col-12 col-md-6 q-pl-md"},An=t("span",{class:"text-bold"},"CPM (COSTO X 1000 IMPRESIONES)",-1),In=t("br",null,null,-1),En=t("span",{class:"text-bold"},"CPA (COSTO POR COMPRA)",-1),xn=t("br",null,null,-1),Vn={style:{}},Rn={class:"row"},Bn={class:"col-12 col-md-6"},Nn=t("span",{class:"text-bold"},"TASA DE DEVOLUCIONES",-1),Ln=t("br",null,null,-1),Hn={class:"col-12 col-md-6 q-pl-md"},jn=t("span",{class:"text-bold"}," TASA DE CANCELACI\xD3N",-1),Yn=t("br",null,null,-1),Qn={style:{}},Un={class:"row"},Kn={class:"col-12 col-md-6"},Wn=t("span",{class:"text-bold"},"INGRESO ESPERADO ($)",-1),zn=t("br",null,null,-1),Gn={class:"col-12 col-md-6 q-pl-md"},Xn=t("span",{class:"text-bold"},"SUBIDO A PLATAFORMA ($)",-1),Jn=t("br",null,null,-1),Zn=t("span",{class:"text-bold"},"% FC ESPERADO (RECAUDO ESPERADO SOBRE INVERSI\xD3N)",-1),el=t("br",null,null,-1),tl={style:{}},al={class:"row"},ol={class:"col-12 col-md-6"},nl=t("span",{class:"text-bold"},"Ingreso ($)",-1),ll=t("br",null,null,-1),sl={class:"col-12 col-md-6 q-pl-md"},il=t("span",{class:"text-bold"}," DESC IVA ($)",-1),rl=t("br",null,null,-1),cl={style:{}},ul={class:"row"},dl={class:"col-12 col-md-6"},vl=t("span",{class:"text-bold"}," COSTO PRODUCTO ($)",-1),ml=t("br",null,null,-1),fl={class:"col-12 col-md-6 q-pl-md"},hl=t("span",{class:"text-bold"}," IVA A FAVOR",-1),pl=t("br",null,null,-1),_l={style:{}},gl={class:"row"},bl={class:"col-12 col-md-6"},yl=t("span",{class:"text-bold"}," UTILIDAD BRUTA",-1),Cl=t("br",null,null,-1),wl={class:"col-12 col-md-6 q-pl-md"},Ml=t("span",{class:"text-bold"}," INVERSI\xD3N EN PAUTA",-1),Dl=t("br",null,null,-1),Pl={style:{}},Tl={class:"row"},$l={class:"col-12 col-md-6"},ql=t("span",{class:"text-bold"}," UTILIDAD BRUTA (CON PAUTA)",-1),Sl=t("br",null,null,-1),Ol={class:"col-12 col-md-6 q-pl-md"},kl=t("span",{class:"text-bold"}," FLETE",-1),Fl=t("br",null,null,-1),Al={style:{}},Il={class:"row"},El={class:"col-12 col-md-6"},xl=t("span",{class:"text-bold"}," FLETE DEVOLUCI\xD3N",-1),Vl=t("br",null,null,-1),Rl={class:"col-12 col-md-6 q-pl-md"},Bl=t("span",{class:"text-bold"}," FULL FILMENT",-1),Nl=t("br",null,null,-1),Ll={style:{}},Hl={class:"row"},jl={class:"col-12 col-md-6"},Yl=t("span",{class:"text-bold"}," COSTO OPERATIVO",-1),Ql=t("br",null,null,-1),Ul={class:"col-12 col-md-6 q-pl-md"},Kl=t("span",{class:"text-bold"}," 4 X 1000",-1),Wl=t("br",null,null,-1),zl={style:{}},Gl={class:"row"},Xl={class:"col-12 col-md-6"},Jl=t("span",{class:"text-bold"}," UTILIDAD AI",-1),Zl=t("br",null,null,-1),es={class:"col-12 col-md-6 q-pl-md"},ts=t("span",{class:"text-bold"}," PROVISI\xD3N ICA",-1),as=t("br",null,null,-1),os={style:{}},ns={class:"row"},ls={class:"col-12 col-md-6"},ss=t("span",{class:"text-bold"}," PROVISI\xD3N RENTA",-1),is=t("br",null,null,-1),rs={class:"col-12 col-md-6 q-pl-md"},cs=t("span",{class:"text-bold"}," UTILIDAD NETA",-1),us=t("br",null,null,-1);function ds(e,s,g,r,d,c){return me(),be("div",za,[p(Na,{modelValue:e.tab,"onUpdate:modelValue":s[0]||(s[0]=n=>e.tab=n),dense:"","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:z(()=>[p(xe,{name:"flow",label:"Flujo de caja"}),p(xe,{name:"operation",label:"Operaci\xF3n"}),p(xe,{name:"tracking",label:"Tracking"}),p(xe,{name:"marketing",label:"Marketing"}),p(xe,{name:"flow_money",label:"Flujo de caja esperado"}),p(xe,{name:"pygdelivered",label:"P&G ENTREGADO"})]),_:1},8,["modelValue"]),p(Ka,{modelValue:e.tab,"onUpdate:modelValue":s[1]||(s[1]=n=>e.tab=n),animated:""},{default:z(()=>[p(Ve,{name:"flow"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Ga,[t("div",Xa,[t("div",Ja,[Za,eo,t("span",null,P(e.utils.formatPrice(e.metaMetrics.spend)),1)]),t("div",to,[ao,oo,t("span",null,P(e.roas),1)])])])]),t("tr",null,[t("td",no,[t("div",lo,[t("div",so,[io,ro,t("span",null,P(e.utils.formatPrice(e.totalCollection)),1)]),t("div",co,[uo,vo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalOrdersDropiDelivered)),1)])])])]),t("tr",null,[t("td",mo,[t("div",fo,[t("div",ho,[po,_o,Ie(" "+P(e.collectionOverInversion)+"% ",1)]),t("div",go,[bo,yo,Ie(" "+P(e.taxDevolution)+"% ",1)])])])]),t("tr",null,[t("td",Co,[t("div",wo,[t("div",Mo,[Do,Po,Ie(" "+P(e.taxCancelled)+"% ",1)])])])])])]),_:1})]),_:1}),p(Ve,{name:"operation"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",To,[t("div",$o,[t("div",qo,[So,Oo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.shopify.totalShopify)),1)]),t("div",ko,[Fo,Ao,t("span",null,P(e.ordersMetrics.shopify.totalOrderShopify),1)]),t("div",Io,[Eo,xo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalMoneyInDropi)),1)]),t("div",Vo,[Ro,Bo,t("span",null,P(e.ordersMetrics.totalDropiOrders),1)]),t("div",No,[Lo,Ho,t("span",null,P(e.ordersMetrics.totalDropiOrders-e.ordersMetrics.cancelledAndRejectedOrders-e.ordersMetrics.guiasAnuladas),1)]),t("div",jo,[Yo,Qo,t("span",null,P(((e.ordersMetrics.totalDropiOrders-e.ordersMetrics.cancelledAndRejectedOrders-e.ordersMetrics.guiasAnuladas)/e.ordersMetrics.totalDropiOrders*100).toFixed(2)),1)])])])])])]),_:1})]),_:1}),p(Ve,{name:"tracking"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Uo,[t("div",Ko,[t("div",Wo,[zo,Go,t("span",null,P(e.ordersMetrics.deliveredDropiOrders),1)]),t("div",Xo,[Jo,Zo,t("span",null,P(e.ordersMetrics.returnedDropiOrders),1)])])])]),t("tr",null,[t("td",en,[t("div",tn,[t("div",an,[on,nn,t("span",null,P(e.ordersMetrics.pendingDropiOrders),1)]),t("div",ln,[sn,rn,t("span",null,P(e.ordersMetrics.cancelledDropi),1)])])])]),t("tr",null,[t("td",cn,[t("div",un,[t("div",dn,[vn,mn,t("span",null,P(e.ordersMetrics.pendingConfirmationDropiOrders),1)]),t("div",fn,[hn,pn,t("span",null,P(e.ordersMetrics.rejectedDropi),1)])])])]),t("tr",null,[t("td",null,[_n,gn,Ie(" "+P(e.porcentDelivered)+"% ",1)])])])]),_:1})]),_:1}),p(Ve,{name:"marketing"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",bn,[t("div",yn,[t("div",Cn,[wn,Mn,t("span",null," $"+P(e.costByClick),1)]),t("div",Dn,[Pn,Tn,t("span",null,P(e.clickToRate)+"% ",1)])])])]),t("tr",null,[t("td",$n,[t("div",qn,[t("div",Sn,[On,kn,t("span",null,P(e.cvrTax)+"% ",1)]),t("div",Fn,[An,In,t("span",null,P(e.utils.formatPrice(e.costBy1000)),1)])])])]),t("tr",null,[t("td",null,[En,xn,Ie(" "+P(e.utils.formatPrice(e.costBySell)),1)])])])]),_:1})]),_:1}),p(Ve,{name:"flow_money"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Vn,[t("div",Rn,[t("div",Bn,[Nn,Ln,t("span",null,P(e.devolutionRate)+"% ",1)]),t("div",Hn,[jn,Yn,t("span",null,P(e.cancelledRate)+"% ",1)])])])]),t("tr",null,[t("td",Qn,[t("div",Un,[t("div",Kn,[Wn,zn,t("span",null,P(e.utils.formatPrice(e.totalIncoming)),1)]),t("div",Gn,[Xn,Jn,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalMoneyInDropi)),1)])])])]),t("tr",null,[t("td",null,[Zn,el,Ie(" "+P(e.collectionOverInvertion)+"% ",1)])])])]),_:1})]),_:1}),p(Ve,{name:"pygdelivered"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>{var n,C;return[t("tbody",null,[t("tr",null,[t("td",tl,[t("div",al,[t("div",ol,[nl,ll,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalOrdersDropiDelivered)||0),1)]),t("div",sl,[il,rl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.descIva)||0),1)])])])]),t("tr",null,[t("td",cl,[t("div",ul,[t("div",dl,[vl,ml,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.productCosto)||0),1)]),t("div",fl,[hl,pl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.ivaAFavor)||0),1)])])])]),t("tr",null,[t("td",_l,[t("div",gl,[t("div",bl,[yl,Cl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.utilidadBruta)||0),1)]),t("div",wl,[Ml,Dl,t("span",null,P(e.utils.formatPrice(e.metaMetrics.spend)),1)])])])]),t("tr",null,[t("td",Pl,[t("div",Tl,[t("div",$l,[ql,Sl,t("span",null,P(e.utils.formatPrice((n=e.ordersMetrics)!=null&&n.utilidadBruta?((C=e.ordersMetrics)==null?void 0:C.utilidadBruta)-e.metaMetrics.spend:e.metaMetrics.spend)||0),1)]),t("div",Ol,[kl,Fl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.flete)||0),1)])])])]),t("tr",null,[t("td",Al,[t("div",Il,[t("div",El,[xl,Vl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.devolucionFlete)||0),1)]),t("div",Rl,[Bl,Nl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.fullFilmentTotal)||0),1)])])])]),t("tr",null,[t("td",Ll,[t("div",Hl,[t("div",jl,[Yl,Ql,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.costoOperativo)||0),1)]),t("div",Ul,[Kl,Wl,t("span",null,P(e.utils.formatPrice(e.cuatroXMil)),1)])])])]),t("tr",null,[t("td",zl,[t("div",Gl,[t("div",Xl,[Jl,Zl,t("span",null,P(e.utils.formatPrice(e.utilidadIa)||0),1)]),t("div",es,[ts,as,t("span",null,P(e.utils.formatPrice(e.provisionIca)||0),1)])])])]),t("tr",null,[t("td",os,[t("div",ns,[t("div",ls,[ss,is,t("span",null,P(e.utils.formatPrice(e.utilidadRenta)||0),1)]),t("div",rs,[cs,us,t("span",null,P(e.utils.formatPrice(e.utilidadNeta)||0),1)])])])])])]}),_:1})]),_:1})]),_:1},8,["modelValue"])])}var vs=Ce(Wa,[["render",ds]]);const ms=["gregorian","persian"],fs={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ms.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},hs=["update:modelValue"];function we(e){return e.year+"/"+Se(e.month)+"/"+Se(e.day)}function ps(e,s){const g=i(()=>e.disable!==!0&&e.readonly!==!0),r=i(()=>g.value===!0?0:-1),d=i(()=>{const C=[];return e.color!==void 0&&C.push(`bg-${e.color}`),e.textColor!==void 0&&C.push(`text-${e.textColor}`),C.join(" ")});function c(){return e.locale!==void 0?{...s.lang.date,...e.locale}:s.lang.date}function n(C){const V=new Date,T=C===!0?null:0;if(e.calendar==="persian"){const y=Sa(V);return{year:y.jy,month:y.jm,day:y.jd}}return{year:V.getFullYear(),month:V.getMonth()+1,day:V.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:g,tabindex:r,headerClass:d,getLocale:c,getCurrentDate:n}}const qe=20,_s=["Calendar","Years","Months"],At=e=>_s.includes(e),_t=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Re=" \u2014 ";function Me(e){return e.year+"/"+Se(e.month)}var gs=Le({name:"QDate",props:{...fs,...da,...xt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:_t},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:_t},navigationMaxYearMonth:{type:String,validator:_t},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:At}},emits:[...hs,"rangeStart","rangeEnd","navigation"],setup(e,{slots:s,emit:g}){const{proxy:r}=Ne(),{$q:d}=r,c=Vt(e,d),{getCache:n}=Nt(),{tabindex:C,headerClass:V,getLocale:T,getCurrentDate:y}=ps(e,d);let v;const q=va(e),S=fa(q),B=x(null),F=x(J()),I=x(T()),oe=i(()=>J()),re=i(()=>T()),D=i(()=>y()),_=x(ke(F.value,I.value)),L=x(e.defaultView),U=d.lang.rtl===!0?"right":"left",Q=x(U.value),X=x(U.value),Z=_.value.year,ce=x(Z-Z%qe-(Z<0?qe:0)),G=x(null),fe=i(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(c.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),$=i(()=>e.color||"primary"),R=i(()=>e.textColor||"white"),u=i(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),E=i(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),A=i(()=>E.value.filter(a=>typeof a=="string").map(a=>le(a,F.value,I.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),ue=i(()=>{const a=o=>le(o,F.value,I.value);return E.value.filter(o=>ma(o)===!0&&o.from!==void 0&&o.to!==void 0).map(o=>({from:a(o.from),to:a(o.to)})).filter(o=>o.from.dateHash!==null&&o.to.dateHash!==null&&o.from.dateHash<o.to.dateHash)}),De=i(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const o=kt(a.year,a.month,a.day);return new Date(o.gy,o.gm-1,o.gd)}),He=i(()=>e.calendar==="persian"?we:(a,o,l)=>Oa(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),o===void 0?F.value:o,l===void 0?I.value:l,a.year,a.timezoneOffset)),se=i(()=>A.value.length+ue.value.reduce((a,o)=>a+1+ka(De.value(o.to),De.value(o.from)),0)),_e=i(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(G.value!==null){const l=G.value.init,f=De.value(l);return I.value.daysShort[f.getDay()]+", "+I.value.monthsShort[l.month-1]+" "+l.day+Re+"?"}if(se.value===0)return Re;if(se.value>1)return`${se.value} ${I.value.pluralDay}`;const a=A.value[0],o=De.value(a);return isNaN(o.valueOf())===!0?Re:I.value.headerTitle!==void 0?I.value.headerTitle(o,a):I.value.daysShort[o.getDay()]+", "+I.value.monthsShort[a.month-1]+" "+a.day}),Xe=i(()=>A.value.concat(ue.value.map(o=>o.from)).sort((o,l)=>o.year-l.year||o.month-l.month)[0]),Je=i(()=>A.value.concat(ue.value.map(o=>o.to)).sort((o,l)=>l.year-o.year||l.month-o.month)[0]),je=i(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(se.value===0)return Re;if(se.value>1){const a=Xe.value,o=Je.value,l=I.value.monthsShort;return l[a.month-1]+(a.year!==o.year?" "+a.year+Re+l[o.month-1]+" ":a.month!==o.month?Re+l[o.month-1]:"")+" "+o.year}return A.value[0].year}),ne=i(()=>{const a=[d.iconSet.datetime.arrowLeft,d.iconSet.datetime.arrowRight];return d.lang.rtl===!0?a.reverse():a}),Ze=i(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):I.value.firstDayOfWeek),rt=i(()=>{const a=I.value.daysShort,o=Ze.value;return o>0?a.slice(o,7).concat(a.slice(0,o)):a}),he=i(()=>{const a=_.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():pt(a.year,a.month)}),et=i(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ee=i(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),te=i(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),Ye=i(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ee.value!==null&&ee.value.year>=_.value.year&&(a.year.prev=!1,ee.value.year===_.value.year&&ee.value.month>=_.value.month&&(a.month.prev=!1)),te.value!==null&&te.value.year<=_.value.year&&(a.year.next=!1,te.value.year===_.value.year&&te.value.month<=_.value.month&&(a.month.next=!1)),a}),ge=i(()=>{const a={};return A.value.forEach(o=>{const l=Me(o);a[l]===void 0&&(a[l]=[]),a[l].push(o.day)}),a}),Qe=i(()=>{const a={};return ue.value.forEach(o=>{const l=Me(o.from),f=Me(o.to);if(a[l]===void 0&&(a[l]=[]),a[l].push({from:o.from.day,to:l===f?o.to.day:void 0,range:o}),l<f){let h;const{year:j,month:w}=o.from,k=w<12?{year:j,month:w+1}:{year:j+1,month:1};for(;(h=Me(k))<=f;)a[h]===void 0&&(a[h]=[]),a[h].push({from:void 0,to:h===f?o.to.day:void 0,range:o}),k.month++,k.month>12&&(k.year++,k.month=1)}}),a}),Pe=i(()=>{if(G.value===null)return;const{init:a,initHash:o,final:l,finalHash:f}=G.value,[h,j]=o<=f?[a,l]:[l,a],w=Me(h),k=Me(j);if(w!==ae.value&&k!==ae.value)return;const Y={};return w===ae.value?(Y.from=h.day,Y.includeFrom=!0):Y.from=1,k===ae.value?(Y.to=j.day,Y.includeTo=!0):Y.to=he.value,Y}),ae=i(()=>Me(_.value)),tt=i(()=>{const a={};if(e.options===void 0){for(let l=1;l<=he.value;l++)a[l]=!0;return a}const o=typeof e.options=="function"?e.options:l=>e.options.includes(l);for(let l=1;l<=he.value;l++){const f=ae.value+"/"+Se(l);a[l]=o(f)}return a}),at=i(()=>{const a={};if(e.events===void 0)for(let o=1;o<=he.value;o++)a[o]=!1;else{const o=typeof e.events=="function"?e.events:l=>e.events.includes(l);for(let l=1;l<=he.value;l++){const f=ae.value+"/"+Se(l);a[l]=o(f)===!0&&et.value(f)}}return a}),ot=i(()=>{let a,o;const{year:l,month:f}=_.value;if(e.calendar!=="persian")a=new Date(l,f-1,1),o=new Date(l,f-1,0).getDate();else{const h=kt(l,f,1);a=new Date(h.gy,h.gm-1,h.gd);let j=f-1,w=l;j===0&&(j=12,w--),o=pt(w,j)}return{days:a.getDay()-Ze.value-1,endDay:o}}),m=i(()=>{const a=[],{days:o,endDay:l}=ot.value,f=o<0?o+7:o;if(f<6)for(let w=l-f;w<=l;w++)a.push({i:w,fill:!0});const h=a.length;for(let w=1;w<=he.value;w++){const k={i:w,event:at.value[w],classes:[]};tt.value[w]===!0&&(k.in=!0,k.flat=!0),a.push(k)}if(ge.value[ae.value]!==void 0&&ge.value[ae.value].forEach(w=>{const k=h+w-1;Object.assign(a[k],{selected:!0,unelevated:!0,flat:!1,color:$.value,textColor:R.value})}),Qe.value[ae.value]!==void 0&&Qe.value[ae.value].forEach(w=>{if(w.from!==void 0){const k=h+w.from-1,Y=h+(w.to||he.value)-1;for(let Ue=k;Ue<=Y;Ue++)Object.assign(a[Ue],{range:w.range,unelevated:!0,color:$.value,textColor:R.value});Object.assign(a[k],{rangeFrom:!0,flat:!1}),w.to!==void 0&&Object.assign(a[Y],{rangeTo:!0,flat:!1})}else if(w.to!==void 0){const k=h+w.to-1;for(let Y=h;Y<=k;Y++)Object.assign(a[Y],{range:w.range,unelevated:!0,color:$.value,textColor:R.value});Object.assign(a[k],{flat:!1,rangeTo:!0})}else{const k=h+he.value-1;for(let Y=h;Y<=k;Y++)Object.assign(a[Y],{range:w.range,unelevated:!0,color:$.value,textColor:R.value})}}),Pe.value!==void 0){const w=h+Pe.value.from-1,k=h+Pe.value.to-1;for(let Y=w;Y<=k;Y++)a[Y].color=$.value,a[Y].editRange=!0;Pe.value.includeFrom===!0&&(a[w].editRangeFrom=!0),Pe.value.includeTo===!0&&(a[k].editRangeTo=!0)}_.value.year===D.value.year&&_.value.month===D.value.month&&(a[h+D.value.day-1].today=!0);const j=a.length%7;if(j>0){const w=7-j;for(let k=1;k<=w;k++)a.push({i:k,fill:!0})}return a.forEach(w=>{let k="q-date__calendar-item ";w.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${w.in===!0?"in":"out"}`,w.range!==void 0&&(k+=` q-date__range${w.rangeTo===!0?"-to":w.rangeFrom===!0?"-from":""}`),w.editRange===!0&&(k+=` q-date__edit-range${w.editRangeFrom===!0?"-from":""}${w.editRangeTo===!0?"-to":""}`),(w.range!==void 0||w.editRange===!0)&&(k+=` text-${w.color}`)),w.classes=k}),a}),M=i(()=>e.disable===!0?{"aria-disabled":"true"}:{});ve(()=>e.modelValue,a=>{if(v===a)v=0;else{const o=ke(F.value,I.value);Fe(o.year,o.month,o)}}),ve(L,()=>{B.value!==null&&r.$el.contains(document.activeElement)===!0&&B.value.focus()}),ve(()=>_.value.year+"|"+_.value.month,()=>{g("navigation",{year:_.value.year,month:_.value.month})}),ve(oe,a=>{Pt(a,I.value,"mask"),F.value=a}),ve(re,a=>{Pt(F.value,a,"locale"),I.value=a});function O(){const{year:a,month:o,day:l}=D.value,f={..._.value,year:a,month:o,day:l},h=ge.value[Me(f)];(h===void 0||h.includes(f.day)===!1)&&ct(f),H(f.year,f.month)}function K(a){At(a)===!0&&(L.value=a)}function W(a,o){["month","year"].includes(a)&&(a==="month"?lt:Te)(o===!0?-1:1)}function H(a,o){L.value="Calendar",Fe(a,o)}function N(a,o){if(e.range===!1||!a){G.value=null;return}const l=Object.assign({..._.value},a),f=o!==void 0?Object.assign({..._.value},o):l;G.value={init:l,initHash:we(l),final:f,finalHash:we(f)},H(l.year,l.month)}function J(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function le(a,o,l){return Fa(a,o,l,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ke(a,o){const l=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(l.length===0)return nt();const f=l[l.length-1],h=le(f.from!==void 0?f.from:f,a,o);return h.dateHash===null?nt():h}function nt(){let a,o;if(e.defaultYearMonth!==void 0){const l=e.defaultYearMonth.split("/");a=parseInt(l[0],10),o=parseInt(l[1],10)}else{const l=D.value!==void 0?D.value:y();a=l.year,o=l.month}return{year:a,month:o,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+Se(o)+"/01"}}function lt(a){let o=_.value.year,l=Number(_.value.month)+a;l===13?(l=1,o++):l===0&&(l=12,o--),Fe(o,l),u.value===!0&&st("month")}function Te(a){const o=Number(_.value.year)+a;Fe(o,_.value.month),u.value===!0&&st("year")}function pe(a){Fe(a,_.value.month),L.value=e.defaultView==="Years"?"Months":"Calendar",u.value===!0&&st("year")}function Lt(a){Fe(_.value.year,a),L.value="Calendar",u.value===!0&&st("month")}function Ht(a,o){const l=ge.value[o];(l!==void 0&&l.includes(a.day)===!0?ut:ct)(a)}function $e(a){return{year:a.year,month:a.month,day:a.day}}function Fe(a,o,l){if(ee.value!==null&&a<=ee.value.year&&((o<ee.value.month||a<ee.value.year)&&(o=ee.value.month),a=ee.value.year),te.value!==null&&a>=te.value.year&&((o>te.value.month||a>te.value.year)&&(o=te.value.month),a=te.value.year),l!==void 0){const{hour:h,minute:j,second:w,millisecond:k,timezoneOffset:Y,timeHash:Ue}=l;Object.assign(_.value,{hour:h,minute:j,second:w,millisecond:k,timezoneOffset:Y,timeHash:Ue})}const f=a+"/"+Se(o)+"/01";f!==_.value.dateHash&&(Q.value=_.value.dateHash<f==(d.lang.rtl!==!0)?"left":"right",a!==_.value.year&&(X.value=Q.value),gt(()=>{ce.value=a-a%qe-(a<0?qe:0),Object.assign(_.value,{year:a,month:o,day:1,dateHash:f})}))}function Mt(a,o,l){const f=a!==null&&a.length===1&&e.multiple===!1?a[0]:a;v=f;const{reason:h,details:j}=Dt(o,l);g("update:modelValue",f,h,j)}function st(a){const o=A.value[0]!==void 0&&A.value[0].dateHash!==null?{...A.value[0]}:{..._.value};gt(()=>{o.year=_.value.year,o.month=_.value.month;const l=e.calendar!=="persian"?new Date(o.year,o.month,0).getDate():pt(o.year,o.month);o.day=Math.min(Math.max(1,o.day),l);const f=Ae(o);v=f;const{details:h}=Dt("",o);g("update:modelValue",f,a,h)})}function Dt(a,o){return o.from!==void 0?{reason:`${a}-range`,details:{...$e(o.target),from:$e(o.from),to:$e(o.to)}}:{reason:`${a}-day`,details:$e(o)}}function Ae(a,o,l){return a.from!==void 0?{from:He.value(a.from,o,l),to:He.value(a.to,o,l)}:He.value(a,o,l)}function ct(a){let o;if(e.multiple===!0)if(a.from!==void 0){const l=we(a.from),f=we(a.to),h=A.value.filter(w=>w.dateHash<l||w.dateHash>f),j=ue.value.filter(({from:w,to:k})=>k.dateHash<l||w.dateHash>f);o=h.concat(j).concat(a).map(w=>Ae(w))}else{const l=E.value.slice();l.push(Ae(a)),o=l}else o=Ae(a);Mt(o,"add",a)}function ut(a){if(e.noUnset===!0)return;let o=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const l=Ae(a);a.from!==void 0?o=e.modelValue.filter(f=>f.from!==void 0?f.from!==l.from&&f.to!==l.to:!0):o=e.modelValue.filter(f=>f!==l),o.length===0&&(o=null)}Mt(o,"remove",a)}function Pt(a,o,l){const f=A.value.concat(ue.value).map(h=>Ae(h,a,o)).filter(h=>h.from!==void 0?h.from.dateHash!==null&&h.to.dateHash!==null:h.dateHash!==null);g("update:modelValue",(e.multiple===!0?f:f[0])||null,l)}function jt(){if(e.minimal!==!0)return b("div",{class:"q-date__header "+V.value},[b("div",{class:"relative-position"},[b(Be,{name:"q-transition--fade"},()=>b("div",{key:"h-yr-"+je.value,class:"q-date__header-subtitle q-date__header-link "+(L.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:C.value,...n("vY",{onClick(){L.value="Years"},onKeyup(a){a.keyCode===13&&(L.value="Years")}})},[je.value]))]),b("div",{class:"q-date__header-title relative-position flex no-wrap"},[b("div",{class:"relative-position col"},[b(Be,{name:"q-transition--fade"},()=>b("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(L.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:C.value,...n("vC",{onClick(){L.value="Calendar"},onKeyup(a){a.keyCode===13&&(L.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?b(de,{class:"q-date__header-today self-start",icon:d.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:C.value,onClick:O}):null])])}function dt({label:a,type:o,key:l,dir:f,goTo:h,boundaries:j,cls:w}){return[b("div",{class:"row items-center q-date__arrow"},[b(de,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[0],tabindex:C.value,disable:j.prev===!1,...n("go-#"+o,{onClick(){h(-1)}})})]),b("div",{class:"relative-position overflow-hidden flex flex-center"+w},[b(Be,{name:"q-transition--jump-"+f},()=>b("div",{key:l},[b(de,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:C.value,...n("view#"+o,{onClick:()=>{L.value=o}})})]))]),b("div",{class:"row items-center q-date__arrow"},[b(de,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[1],tabindex:C.value,disable:j.next===!1,...n("go+#"+o,{onClick(){h(1)}})})])]}const Yt={Calendar:()=>[b("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[b("div",{class:"q-date__navigation row items-center no-wrap"},dt({label:I.value.months[_.value.month-1],type:"Months",key:_.value.month,dir:Q.value,goTo:lt,boundaries:Ye.value.month,cls:" col"}).concat(dt({label:_.value.year,type:"Years",key:_.value.year,dir:X.value,goTo:Te,boundaries:Ye.value.year,cls:""}))),b("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},rt.value.map(a=>b("div",{class:"q-date__calendar-item"},[b("div",a)]))),b("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[b(Be,{name:"q-transition--slide-"+Q.value},()=>b("div",{key:ae.value,class:"q-date__calendar-days fit"},m.value.map(a=>b("div",{class:a.classes},[a.in===!0?b(de,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:C.value,...n("day#"+a.i,{onClick:()=>{Qt(a.i)},onMouseover:()=>{Ut(a.i)}})},a.event!==!1?()=>b("div",{class:"q-date__event bg-"+a.event}):null):b("div",""+a.i)]))))])])],Months(){const a=_.value.year===D.value.year,o=f=>ee.value!==null&&_.value.year===ee.value.year&&ee.value.month>f||te.value!==null&&_.value.year===te.value.year&&te.value.month<f,l=I.value.monthsShort.map((f,h)=>{const j=_.value.month===h+1;return b("div",{class:"q-date__months-item flex flex-center"},[b(de,{class:a===!0&&D.value.month===h+1?"q-date__today":null,flat:j!==!0,label:f,unelevated:j,color:j===!0?$.value:null,textColor:j===!0?R.value:null,tabindex:C.value,disable:o(h+1),...n("month#"+h,{onClick:()=>{Lt(h+1)}})})])});return e.yearsInMonthView===!0&&l.unshift(b("div",{class:"row no-wrap full-width"},[dt({label:_.value.year,type:"Years",key:_.value.year,dir:X.value,goTo:Te,boundaries:Ye.value.year,cls:" col"})])),b("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},l)},Years(){const a=ce.value,o=a+qe,l=[],f=h=>ee.value!==null&&ee.value.year>h||te.value!==null&&te.value.year<h;for(let h=a;h<=o;h++){const j=_.value.year===h;l.push(b("div",{class:"q-date__years-item flex flex-center"},[b(de,{key:"yr"+h,class:D.value.year===h?"q-date__today":null,flat:!j,label:h,dense:!0,unelevated:j,color:j===!0?$.value:null,textColor:j===!0?R.value:null,tabindex:C.value,disable:f(h),...n("yr#"+h,{onClick:()=>{pe(h)}})})]))}return b("div",{class:"q-date__view q-date__years flex flex-center"},[b("div",{class:"col-auto"},[b(de,{round:!0,dense:!0,flat:!0,icon:ne.value[0],tabindex:C.value,disable:f(a),...n("y-",{onClick:()=>{ce.value-=qe}})})]),b("div",{class:"q-date__years-content col self-stretch row items-center"},l),b("div",{class:"col-auto"},[b(de,{round:!0,dense:!0,flat:!0,icon:ne.value[1],tabindex:C.value,disable:f(o),...n("y+",{onClick:()=>{ce.value+=qe}})})])])}};function Qt(a){const o={..._.value,day:a};if(e.range===!1){Ht(o,ae.value);return}if(G.value===null){const l=m.value.find(h=>h.fill!==!0&&h.i===a);if(e.noUnset!==!0&&l.range!==void 0){ut({target:o,from:l.range.from,to:l.range.to});return}if(l.selected===!0){ut(o);return}const f=we(o);G.value={init:o,initHash:f,final:o,finalHash:f},g("rangeStart",$e(o))}else{const l=G.value.initHash,f=we(o),h=l<=f?{from:G.value.init,to:o}:{from:o,to:G.value.init};G.value=null,ct(l===f?o:{target:o,...h}),g("rangeEnd",{from:$e(h.from),to:$e(h.to)})}}function Ut(a){if(G.value!==null){const o={..._.value,day:a};Object.assign(G.value,{final:o,finalHash:we(o)})}}return Object.assign(r,{setToday:O,setView:K,offsetCalendar:W,setCalendarTo:H,setEditingRange:N}),()=>{const a=[b("div",{class:"q-date__content col relative-position"},[b(Be,{name:"q-transition--fade"},Yt[L.value])])],o=Ge(s.default);return o!==void 0&&a.push(b("div",{class:"q-date__actions"},o)),e.name!==void 0&&e.disable!==!0&&S(a,"push"),b("div",{class:fe.value,...M.value},[jt(),b("div",{ref:B,class:"q-date__main col column",tabindex:-1},a)])}}}),bs=Le({name:"QPopupProxy",props:{...Pa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:s,emit:g,attrs:r}){const{proxy:d}=Ne(),{$q:c}=d,n=x(!1),C=x(null),V=i(()=>parseInt(e.breakpoint,10)),{canShow:T}=Ta({showing:n});function y(){return c.screen.width<V.value||c.screen.height<V.value?"dialog":"menu"}const v=x(y()),q=i(()=>v.value==="menu"?{maxHeight:"99vh"}:{});ve(()=>y(),F=>{n.value!==!0&&(v.value=F)});function S(F){n.value=!0,g("show",F)}function B(F){n.value=!1,v.value=y(),g("hide",F)}return Object.assign(d,{show(F){T(F)===!0&&C.value.show(F)},hide(F){C.value.hide(F)},toggle(F){C.value.toggle(F)}}),ha(d,"currentComponent",()=>({type:v.value,ref:C.value})),()=>{const F={ref:C,...q.value,...r,onShow:S,onHide:B};let I;return v.value==="dialog"?I=bt:(I=Ca,Object.assign(F,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),b(I,F,s.default)}}});const ys=ye({name:"CampaignsComponent",emits:["close-modal"],props:{campaigns:{type:Array,default:()=>[]},company:{type:String,default:()=>""}},setup(e,{emit:s}){const g=x(),r=x({campaign:"",ad:"",date:""}),d=x([]),c=x(!1),n=Oe(),C=i(()=>e.campaigns.map(q=>({value:q.id,label:q.name}))),V=i(()=>{var q,S;return`${((q=r.value.date)==null?void 0:q.from)||r.value.date} - ${((S=r.value.date)==null?void 0:S.to)||r.value.date}`});return{ads:d,loading:c,filters:r,doFilter:async()=>{c.value=!0,n.setMetrics({});try{const q=`?from=${r.value.date.from||r.value.date}&to=${r.value.date.to||r.value.date}`,S=await n.listMetrics(e.company,r.value.ad||r.value.campaign,q);S.success&&(S.data.metrics&&S.data.metrics.length>0&&n.setMetrics(S.data.metrics.shift()),S.data.orderMetric&&n.setMetricsOrders(S.data.orderMetric),n.setDateFilterMetrics(r.value.date),s("close-modal"))}catch{}finally{c.value=!1}},dateLabel:V,optionsCampaigns:C,filterAdsFromCampaign:async q=>{try{const S=await n.listAds(e.company,q);S.success&&(d.value=S.data.ads.map(B=>({label:B.name,value:B.id})))}catch{}},closeDate:()=>{g.value.hide()},popupProxy:g}}}),Cs={class:"col-12"},ws=t("label",{for:"",class:"text-weight-semi-bold"},"Campa\xF1a publicitaria*",-1),Ms={class:"col-12"},Ds=t("label",{for:"",class:"text-weight-semi-bold"},"Anuncio",-1),Ps={class:"col-12 q-mt-lg"},Ts=t("label",{for:"",class:"text-weight-semi-bold"},"Rango de fecha",-1);function $s(e,s,g,r,d,c){return me(),Rt(Aa,{class:"row filterCampaign",onSubmit:e.doFilter},{default:z(()=>[t("div",Cs,[ws,p(Ot,{"onUpdate:modelValue":[s[0]||(s[0]=n=>e.filterAdsFromCampaign(n)),s[1]||(s[1]=n=>e.filters.campaign=n)],"emit-value":"","map-options":"",dense:"",modelValue:e.filters.campaign,label:"Selecciona una opci\xF3n",options:e.optionsCampaigns,outlined:"",rounded:"",rules:[n=>!!n||"Este campo es requerido"]},null,8,["modelValue","options","rules"])]),t("div",Ms,[Ds,p(Ot,{"emit-value":"","map-options":"",dense:"",modelValue:e.filters.ad,"onUpdate:modelValue":s[2]||(s[2]=n=>e.filters.ad=n),label:"Selecciona una opci\xF3n",options:e.ads,outlined:"",rounded:""},null,8,["modelValue","options"])]),t("div",Ps,[Ts,p(pa,{dense:"",modelValue:e.dateLabel,"onUpdate:modelValue":s[4]||(s[4]=n=>e.dateLabel=n),placeholder:"Ingrese su correo electr\xF3nico",outlined:"",rounded:"",rules:[n=>!!n||"Este campo es requerido"]},{default:z(()=>[p(bs,{ref:"popupProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:z(()=>[p(gs,{mask:"YYYY-MM-DD","onUpdate:modelValue":[e.closeDate,s[3]||(s[3]=n=>e.filters.date=n)],style:{width:"420px"},range:"",minimal:"",modelValue:e.filters.date},null,8,["onUpdate:modelValue","modelValue"])]),_:1},512)]),_:1},8,["modelValue","rules"])]),t("div",{class:yt(["col-12 col-md-6 q-mt-xl",{"q-pr-sm":e.$q.screen.gt.sm}])},[Et(p(de,{label:"Cancelar",color:"info","no-caps":"",rounded:"",outline:"",class:"full-width"},null,512),[[$a]])],2),t("div",{class:yt(["col-12 col-md-6 q-mt-xl",{"q-pl-sm":e.$q.screen.gt.sm}])},[p(de,{loading:e.loading,type:"submit",unelevated:"",label:"Filtrar metricas",color:"primary","no-caps":"",rounded:"",class:"full-width"},null,8,["loading"])],2)]),_:1},8,["onSubmit"])}var qs=Ce(ys,[["render",$s]]);const Ss=ye({name:"MainCardComponent",props:{title:{type:String,default:"Flujo de caja"},amount:{type:Number,default:0},label:{type:String,default:"-"},icon:{type:String,default:"img:/images/calculator.svg"},isPrice:{type:Boolean,default:!0},isYellow:{type:Boolean,default:!1},isGreen:{type:Boolean,default:!1}},setup(){return{utils:new Bt("dashboard")}}}),Os={class:"row full-width"},ks={class:"col-10 q-pt-md"},Fs={class:"title-card text-weight-semi-bold"},As={class:"amount-card text-weight-semi-bold"},Is={key:0},Es={key:1},xs={class:"label-card"},Vs={class:"col-2"},Rs={class:"icon-card"};function Bs(e,s,g,r,d,c){return me(),be("div",{class:yt(["dashboard-card",{"is-yellow":e.isYellow,"is-green":e.isGreen}])},[t("div",Os,[t("div",ks,[t("p",Fs,P(e.title),1),t("p",As,[e.isPrice?(me(),be("span",Is,P(e.amount>0?e.utils.formatPrice(e.amount):"$0"),1)):(me(),be("span",Es,P(e.amount),1))]),t("p",xs,P(e.label),1)]),t("div",Vs,[t("div",Rs,[p(ze,{name:e.icon},null,8,["name"])])])])],2)}var wt=Ce(Ss,[["render",Bs]]);const Ns=ye({name:"OrdersResumeComponent",components:{MainCard:wt},setup(){const e=Oe();return{ordersMetrics:i(()=>e.metricsOrders)}}}),Ls={class:"grid-container"},Hs={class:"col-12 col-sm-6 col-md-3"},js={class:"col-12 col-sm-6 col-md-3"},Ys={class:"col-12 col-sm-6 col-md-3"},Qs={class:"col-12 col-sm-6 col-md-3"},Us={class:"col-12 col-sm-6 col-md-3"},Ks={class:"col-12 col-sm-6 col-md-3"},Ws={class:"col-12 col-sm-6 col-md-3"},zs={class:"col-12 col-sm-6 col-md-3"},Gs={class:"col-12 col-sm-6 col-md-3"},Xs={class:"col-12 col-sm-6 col-md-3"},Js={class:"col-12 col-sm-6 col-md-3"},Zs={class:"col-12 col-sm-6 col-md-3"},ei={class:"col-12 col-sm-6 col-md-3"},ti={class:"col-12 col-sm-6 col-md-3"},ai={class:"col-12 col-sm-6 col-md-3"};function oi(e,s,g,r,d,c){const n=ie("MainCard");return me(),be("div",Ls,[t("div",Hs,[p(n,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:e.ordersMetrics.totalMoneyInDropi,label:"Ventas Dropi"},null,8,["amount"])]),t("div",js,[p(n,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:e.ordersMetrics.collectionDropi,label:"Recaudo Dropi"},null,8,["amount"])]),t("div",Ys,[p(n,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalOrdersDropiDelivered,label:"Entregado dropi"},null,8,["amount"])]),t("div",Qs,[p(n,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalFreightDelivered,label:"Flete Entregado"},null,8,["amount"])]),t("div",Us,[p(n,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalFreight,"is-green":!0,label:"Flete esperado"},null,8,["amount"])]),t("div",Ks,[p(n,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.returnedFreightDropi,label:"Flete devoluci\xF3n"},null,8,["amount"])]),t("div",Ws,[p(n,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalHealthWellbeing,label:"Salud y bienestar"},null,8,["amount"])]),t("div",zs,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.totalDropiOrders,label:"Pedidos generados"},null,8,["amount"])]),t("div",Gs,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.deliveredDropiOrders,label:"Pedidos entregados"},null,8,["amount"])]),t("div",Xs,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.returnedDropiOrders,"is-green":!0,label:"Pedidos devueltos"},null,8,["amount"])]),t("div",Js,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.pendingDropiOrders,label:"Pedidos pendientes"},null,8,["amount"])]),t("div",Zs,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.pendingConfirmationDropiOrders,label:"Pendientes Confirmaci\xF3n"},null,8,["amount"])]),t("div",ei,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.cancelledDropi,label:"Pedidos Cancelados"},null,8,["amount"])]),t("div",ti,[p(n,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.rejectedDropi,label:"Pedidos Rechazados"},null,8,["amount"])]),t("div",ai,[p(n,{icon:"img:/images/tracking.svg","is-green":!0,"is-price":!1,title:"Tracking",amount:e.ordersMetrics.cancelledAndRejectedOrders,label:"Cancelados - Rechazados"},null,8,["amount"])])])}var ni=Ce(Ns,[["render",oi]]);const li=ye({name:"ShopifyMetricsComponent",components:{MainCard:wt},setup(){const e=Oe();return{ordersMetrics:i(()=>e.metricsOrders)}}}),si={class:"grid-container"},ii={class:"col-12 col-sm-6 col-md-3"},ri={class:"col-12 col-sm-6 col-md-3"};function ci(e,s,g,r,d,c){var C,V;const n=ie("MainCard");return me(),be("div",si,[t("div",ii,[p(n,{isPrice:!1,icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:(C=e.ordersMetrics.shopify.totalOrderShopify)!=null?C:0,label:"Pedidos Shopify"},null,8,["amount"])]),t("div",ri,[p(n,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:(V=e.ordersMetrics.shopify.totalShopify)!=null?V:0,label:"Total Shopify"},null,8,["amount"])])])}var ui=Ce(li,[["render",ci]]);const di=ye({name:"ActionMainComponent",setup(){const e={onsite_web_app_view_content:"Vista de contenido",landing_page_view:"Vista de p\xE1gina de destino","onsite_conversion.post_save":"Conversi\xF3n onsite guardada",page_engagement:"Compromiso con la p\xE1gina",post_engagement:"Compromiso con la publicaci\xF3n",view_content:"Vista de contenido",onsite_web_view_content:"Vista de contenido en web onsite",video_view:"Vista de video",omni_view_content:"Vista de contenido omni","offsite_conversion.fb_pixel_view_content":"Conversi\xF3n fuera de sitio con p\xEDxel de Facebook - Vista de contenido",post_reaction:"Reacci\xF3n a publicaci\xF3n",link_click:"Clic en enlace","consite_conversion.total_messaging_connection":"Conexi\xF3n de mensaje"},s=[{name:"desc",required:!1,label:"Acci\xF3n",align:"left",field:c=>e[c.name],sortable:!1},{name:"valor",align:"center",field:c=>`${e[c.action_type]?e[c.action_type]:c.action_type.split(".").pop()}: ${c.value}`,sortable:!1}],g=Oe(),r=x({sortBy:"desc",descending:!1,page:1,rowsPerPage:8}),d=i(()=>g.metrics.actions);return{columns:s,actions:d,actionsTypes:e,initialPagination:r}}}),vi={key:0,class:"row q-mt-lg"},mi=t("div",{class:"col-12"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas de acciones en la campa\xF1a ")],-1),fi={class:"col-12"};function hi(e,s,g,r,d,c){return e.actions&&e.actions.length>0?(me(),be("div",vi,[mi,t("div",fi,[p(Ma,{pagination:e.initialPagination,flat:"",bordered:"",grid:"",rows:e.actions,columns:e.columns,"row-key":"name","hide-header":""},{"top-right":z(()=>[]),_:1},8,["pagination","rows","columns"])])])):_a("",!0)}var pi=Ce(di,[["render",hi]]);const _i=ye({name:"MainDashboardComponent",components:{MainCard:wt},setup(){const e=Oe(),s=i(()=>e.metrics),g=i(()=>{const T=s.value.spend/s.value.clicks;return T>0?parseFloat(T.toFixed(2)):0}),r=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="link_click"&&(T=v.value),v))),T}),d=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="landing_page_view"&&(T=v.value),v))),T}),c=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="video_view"&&(T=v.value),v))),T}),n=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="post_reaction"&&(T=v.value),v))),T}),C=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="page_engagement"&&(T=v.value),v))),T}),V=i(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="post_engagement"&&(T=v.value),v))),T});return{videoViews:c,metaMetrics:s,costByClick:g,clickOnLink:r,postEngagement:V,pageEngagement:C,reactionToPost:n,destinyPageView:d}}}),gi={class:"grid-container"},bi={class:"col-12 col-sm-6 col-md-3"},yi={class:"col-12 col-sm-6 col-md-3"},Ci={class:"col-12 col-sm-6 col-md-3"},wi={class:"col-12 col-sm-6 col-md-3"},Mi={class:"col-12 col-sm-6 col-md-3"},Di={class:"col-12 col-sm-6 col-md-3"},Pi={class:"col-12 col-sm-6 col-md-3"},Ti={class:"col-12 col-sm-6 col-md-3"},$i={class:"col-12 col-sm-6 col-md-3"},qi={class:"col-12 col-sm-6 col-md-3"};function Si(e,s,g,r,d,c){const n=ie("MainCard");return me(),be("div",gi,[t("div",bi,[p(n,{title:"Meta",amount:e.metaMetrics.spend,label:"Gasto de campa\xF1a"},null,8,["amount"])]),t("div",yi,[p(n,{title:"Meta",amount:e.metaMetrics.impressions,isPrice:!1,label:"Impresiones totales"},null,8,["amount"])]),t("div",Ci,[p(n,{title:"Meta",amount:e.metaMetrics.clicks,isPrice:!1,label:"Clic totales"},null,8,["amount"])]),t("div",wi,[p(n,{title:"Meta",amount:e.costByClick,isPrice:!1,label:"Costo por Clic"},null,8,["amount"])]),t("div",Mi,[p(n,{icon:"img:/images/yellow-calculator.svg",title:"Meta",amount:e.clickOnLink,label:"Click en enlace",isPrice:!1,isYellow:!0},null,8,["amount"])]),t("div",Di,[p(n,{title:"Meta",amount:e.destinyPageView,isPrice:!1,label:"Vista pagina destino"},null,8,["amount"])]),t("div",Pi,[p(n,{title:"Meta",amount:e.videoViews,isPrice:!1,label:"Vista video"},null,8,["amount"])]),t("div",Ti,[p(n,{title:"Meta",amount:e.reactionToPost,isPrice:!1,label:"Reacci\xF3n publicaci\xF3n"},null,8,["amount"])]),t("div",$i,[p(n,{title:"Meta",amount:e.pageEngagement,isPrice:!1,label:"Compromiso p\xE1gina"},null,8,["amount"])]),t("div",qi,[p(n,{icon:"img:/images/yellow-calculator.svg",title:"Meta",amount:e.postEngagement,isYellow:!0,isPrice:!1,label:"Compromiso publicaci\xF3n"},null,8,["amount"])])])}var Oi=Ce(_i,[["render",Si]]);const ki=ye({name:"MainComponent",components:{Campaigns:qs,ModalCard:qa,OrdersResume:ni,KpisComponent:vs,ShopifyMetrics:ui,HeaderComponent:wa,ActionsViewComponent:pi,MainDashboardComponent:Oi},setup(){const e=x(),s=x(),g=x(!1),r=Oe(),d=x([]),c=i(()=>r.metrics),n=async()=>{try{await r.listForSelect()}catch{}},C=y=>{console.log(y)},V=async y=>{try{const v=await r.listCampaings(y);v.success&&(e.value=y,d.value=v.data.campains,s.value=!s.value)}catch{}},T=()=>{g.value=!g.value};return ga(async()=>{await n()}),Ct(()=>{r.clearCompanies()}),{openKpi:T,campaigns:d,metaMetrics:c,openModalKpis:g,doFilterByDate:C,companySelected:e,doFilterByCompany:V,openCampaignModal:s}}}),Fi={class:"full-width"},Ai=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas de la campa\xF1a ")],-1),Ii=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas Shopify ")],-1),Ei=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas Dropi ")],-1);function xi(e,s,g,r,d,c){const n=ie("HeaderComponent"),C=ie("MainDashboardComponent"),V=ie("ActionsViewComponent"),T=ie("ShopifyMetrics"),y=ie("OrdersResume"),v=ie("Campaigns"),q=ie("ModalCard"),S=ie("KpisComponent");return me(),be("section",Fi,[p(n,{title:"Dashboard Financiero",onFilterByDate:e.doFilterByDate,onFilterByCompany:e.doFilterByCompany,onOpenKpi:e.openKpi},null,8,["onFilterByDate","onFilterByCompany","onOpenKpi"]),Ai,p(C,{class:"q-mt-md"}),p(V),Ii,p(T,{class:"q-mt-md"}),Ei,p(y,{class:"q-mt-md"}),p(bt,{modelValue:e.openCampaignModal,"onUpdate:modelValue":s[1]||(s[1]=B=>e.openCampaignModal=B)},{default:z(()=>[p(q,{title:"Selector de campa\xF1a"},{body:z(()=>[p(v,{onCloseModal:s[0]||(s[0]=B=>e.openCampaignModal=!1),company:e.companySelected,campaigns:e.campaigns},null,8,["company","campaigns"])]),_:1})]),_:1},8,["modelValue"]),p(bt,{modelValue:e.openModalKpis,"onUpdate:modelValue":s[2]||(s[2]=B=>e.openModalKpis=B)},{default:z(()=>[p(q,{class:"kpis-card",title:"KPIS"},{body:z(()=>[p(S)]),_:1})]),_:1},8,["modelValue"])])}var Vi=Ce(ki,[["render",xi]]);const Ri=ye({name:"HomePageComponent",components:{MainComponent:Vi}});function Bi(e,s,g,r,d,c){const n=ie("MainComponent");return me(),Rt(Kt,{padding:""},{default:z(()=>[p(n)]),_:1})}var Xi=Ce(Ri,[["render",Bi]]);export{Xi as default};
