import{Q as Kt}from"./QPage.715d6872.js";import{x as Wt,y as vt,r as E,e as r,E as Ct,C as zt,aD as It,F as Et,aE as Gt,G as b,m as We,af as Xt,aF as Jt,a3 as ze,X as Zt,K as Ne,aG as ea,aH as ta,o as Le,ai as mt,w as Tt,B as me,M as aa,aw as oa,ax as na,I as Ge,f as la,c as Ke,n as sa,l as ia,g as it,p as ft,j as $t,k as ht,D as gt,al as Be,aI as ra,aJ as ca,q as xt,v as Vt,H as ua,Y as ye,_ as Ce,$ as fe,aC as be,a2 as p,a1 as z,a6 as t,ar as P,a4 as Ie,aK as da,aL as va,aM as ma,aN as fa,aa as ve,aO as ha,ad as bt,a0 as Rt,a8 as pa,a9 as yt,ac as ce,a5 as _a,a7 as ga}from"./index.2f0c4fae.js";import{Q as ba,g as qt,s as St}from"./QResizeObserver.f15b8039.js";import{r as ya,u as Oe,Q as Ca,a as Ot,H as wa}from"./headers.e2e63168.js";import{Q as Ee,a as Ma}from"./QTable.93a07d92.js";import{c as Da,p as Se,u as Pa,g as Ta,C as $a,M as qa}from"./modalCard.e7fdc3b5.js";import{U as Bt}from"./utils.528ba315.js";import{t as Sa,a as kt,f as Oa,g as ka,j as pt,_ as Fa}from"./date.36ca3240.js";import{Q as Aa}from"./QForm.57d357f4.js";import"./auth.b49303b4.js";import"./notification.c42bd851.js";let Ia=0;const Ea=["click","keydown"],xa={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ia++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Va(e,s,g,i){const u=Wt(It,vt);if(u===vt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),vt;const{proxy:c}=Ne(),l=E(null),w=E(null),x=E(null),T=r(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),y=r(()=>u.currentModel.value===e.name),v=r(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),$=r(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),S=r(()=>e.disable===!0||u.hasFocus.value===!0||y.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function V(D,_){if(_!==!0&&l.value!==null&&l.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&We(D);return}if(i===void 0){u.updateModel({name:e.name}),g("click",D);return}if(i.hasRouterLink.value===!0){const N=(U={})=>{let Q;const G=U.to===void 0||ea(U.to,e.to)===!0?u.avoidRouteWatcher=ta():null;return i.navigateToRouterLink(D,{...U,returnRouterError:!0}).catch(Z=>{Q=Z}).then(Z=>{if(G===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,Q===void 0&&(Z===void 0||Z.message!==void 0&&Z.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),U.returnRouterError===!0)return Q!==void 0?Promise.reject(Q):Z})};g("click",D,N),D.defaultPrevented!==!0&&N();return}g("click",D)}function F(D){Xt(D,[13,32])?V(D,!0):Jt(D)!==!0&&D.keyCode>=35&&D.keyCode<=40&&D.altKey!==!0&&D.metaKey!==!0&&u.onKbdNavigate(D.keyCode,c.$el)===!0&&We(D),g("keydown",D)}function A(){const D=u.tabProps.value.narrowIndicator,_=[],N=b("div",{ref:x,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&_.push(b(ze,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&_.push(b("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&_.push(e.alertIcon!==void 0?b(ze,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):b("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),D===!0&&_.push(N);const U=[b("div",{class:"q-focus-helper",tabindex:-1,ref:l}),b("div",{class:$.value},Zt(s.default,_))];return D===!1&&U.push(N),U}const ne={name:r(()=>e.name),rootRef:w,tabIndicatorRef:x,routeData:i};Ct(()=>{u.unregisterTab(ne)}),zt(()=>{u.registerTab(ne)});function ue(D,_){const N={ref:w,class:v.value,tabindex:S.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:V,onKeydown:F,..._};return Et(b(D,N,A()),[[Gt,T.value]])}return{renderTab:ue,$tabs:u}}var xe=Le({name:"QTab",props:xa,emits:Ea,setup(e,{slots:s,emit:g}){const{renderTab:i}=Va(e,s,g);return()=>i("div")}});function Ra(e,s,g){const i=g===!0?["left","right"]:["top","bottom"];return`absolute-${s===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const Ba=["left","center","right","justify"];var Na=Le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ba.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:s,emit:g}){const{proxy:i}=Ne(),{$q:u}=i,{registerTick:c}=mt(),{registerTick:l}=mt(),{registerTick:w}=mt(),{registerTimeout:x,removeTimeout:T}=Tt(),{registerTimeout:y,removeTimeout:v}=Tt(),$=E(null),S=E(null),V=E(e.modelValue),F=E(!1),A=E(!0),ne=E(!1),ue=E(!1),D=[],_=E(0),N=E(!1);let U=null,Q=null,G;const Z=r(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ra(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),h=r(()=>{const d=_.value,M=V.value;for(let O=0;O<d;O++)if(D[O].name.value===M)return!0;return!1}),I=r(()=>`q-tabs__content--align-${F.value===!0?"left":ue.value===!0?"justify":e.align}`),j=r(()=>`q-tabs row no-wrap items-center q-tabs--${F.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),q=r(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+I.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),B=r(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),X=r(()=>e.vertical!==!0&&u.lang.rtl===!0),ie=r(()=>ya===!1&&X.value===!0);me(X,_e),me(()=>e.modelValue,d=>{ae({name:d,setCurrent:!0,skipEmit:!0})}),me(()=>e.outsideArrows,de);function ae({name:d,setCurrent:M,skipEmit:O}){V.value!==d&&(O!==!0&&e["onUpdate:modelValue"]!==void 0&&g("update:modelValue",d),(M===!0||e["onUpdate:modelValue"]===void 0)&&(He(V.value,d),V.value=d))}function de(){c(()=>{De({width:$.value.offsetWidth,height:$.value.offsetHeight})})}function De(d){if(B.value===void 0||S.value===null)return;const M=d[B.value.container],O=Math.min(S.value[B.value.scroll],Array.prototype.reduce.call(S.value.children,(W,L)=>W+(L[B.value.content]||0),0)),K=M>0&&O>M;F.value=K,K===!0&&l(_e),ue.value=M<parseInt(e.breakpoint,10)}function He(d,M){const O=d!=null&&d!==""?D.find(W=>W.name.value===d):null,K=M!=null&&M!==""?D.find(W=>W.name.value===M):null;if(O&&K){const W=O.tabIndicatorRef.value,L=K.tabIndicatorRef.value;U!==null&&(clearTimeout(U),U=null),W.style.transition="none",W.style.transform="none",L.style.transition="none",L.style.transform="none";const R=W.getBoundingClientRect(),J=L.getBoundingClientRect();L.style.transform=e.vertical===!0?`translate3d(0,${R.top-J.top}px,0) scale3d(1,${J.height?R.height/J.height:1},1)`:`translate3d(${R.left-J.left}px,0,0) scale3d(${J.width?R.width/J.width:1},1,1)`,w(()=>{U=setTimeout(()=>{U=null,L.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",L.style.transform="none"},70)})}K&&F.value===!0&&re(K.rootRef.value)}function re(d){const{left:M,width:O,top:K,height:W}=S.value.getBoundingClientRect(),L=d.getBoundingClientRect();let R=e.vertical===!0?L.top-K:L.left-M;if(R<0){S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(R),_e();return}R+=e.vertical===!0?L.height-W:L.width-O,R>0&&(S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(R),_e())}function _e(){const d=S.value;if(d===null)return;const M=d.getBoundingClientRect(),O=e.vertical===!0?d.scrollTop:Math.abs(d.scrollLeft);X.value===!0?(A.value=Math.ceil(O+M.width)<d.scrollWidth-1,ne.value=O>0):(A.value=O>0,ne.value=e.vertical===!0?Math.ceil(O+M.height)<d.scrollHeight:Math.ceil(O+M.width)<d.scrollWidth)}function Xe(d){Q!==null&&clearInterval(Q),Q=setInterval(()=>{he(d)===!0&&le()},5)}function Je(){Xe(ie.value===!0?Number.MAX_SAFE_INTEGER:0)}function je(){Xe(ie.value===!0?0:Number.MAX_SAFE_INTEGER)}function le(){Q!==null&&(clearInterval(Q),Q=null)}function Ze(d,M){const O=Array.prototype.filter.call(S.value.children,J=>J===M||J.matches&&J.matches(".q-tab.q-focusable")===!0),K=O.length;if(K===0)return;if(d===36)return re(O[0]),O[0].focus(),!0;if(d===35)return re(O[K-1]),O[K-1].focus(),!0;const W=d===(e.vertical===!0?38:37),L=d===(e.vertical===!0?40:39),R=W===!0?-1:L===!0?1:void 0;if(R!==void 0){const J=X.value===!0?-1:1,se=O.indexOf(M)+R*J;return se>=0&&se<K&&(re(O[se]),O[se].focus({preventScroll:!0})),!0}}const rt=r(()=>ie.value===!0?{get:d=>Math.abs(d.scrollLeft),set:(d,M)=>{d.scrollLeft=-M}}:e.vertical===!0?{get:d=>d.scrollTop,set:(d,M)=>{d.scrollTop=M}}:{get:d=>d.scrollLeft,set:(d,M)=>{d.scrollLeft=M}});function he(d){const M=S.value,{get:O,set:K}=rt.value;let W=!1,L=O(M);const R=d<L?-1:1;return L+=R*5,L<0?(W=!0,L=0):(R===-1&&L<=d||R===1&&L>=d)&&(W=!0,L=d),K(M,L),_e(),W}function et(d,M){for(const O in d)if(d[O]!==M[O])return!1;return!0}function ee(){let d=null,M={matchedLen:0,queryDiff:9999,hrefLen:0};const O=D.filter(R=>R.routeData!==void 0&&R.routeData.hasRouterLink.value===!0),{hash:K,query:W}=i.$route,L=Object.keys(W).length;for(const R of O){const J=R.routeData.exact.value===!0;if(R.routeData[J===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:se,query:ke,matched:nt,href:lt}=R.routeData.resolvedLink.value,Te=Object.keys(ke).length;if(J===!0){if(se!==K||Te!==L||et(W,ke)===!1)continue;d=R.name.value;break}if(se!==""&&se!==K||Te!==0&&et(ke,W)===!1)continue;const pe={matchedLen:nt.length,queryDiff:L-Te,hrefLen:lt.length-se.length};if(pe.matchedLen>M.matchedLen){d=R.name.value,M=pe;continue}else if(pe.matchedLen!==M.matchedLen)continue;if(pe.queryDiff<M.queryDiff)d=R.name.value,M=pe;else if(pe.queryDiff!==M.queryDiff)continue;pe.hrefLen>M.hrefLen&&(d=R.name.value,M=pe)}d===null&&D.some(R=>R.routeData===void 0&&R.name.value===V.value)===!0||ae({name:d,setCurrent:!0})}function te(d){if(T(),N.value!==!0&&$.value!==null&&d.target&&typeof d.target.closest=="function"){const M=d.target.closest(".q-tab");M&&$.value.contains(M)===!0&&(N.value=!0,F.value===!0&&re(M))}}function Ye(){x(()=>{N.value=!1},30)}function ge(){tt.avoidRouteWatcher===!1?y(ee):v()}function Qe(){if(G===void 0){const d=me(()=>i.$route.fullPath,ge);G=()=>{d(),G=void 0}}}function Pe(d){D.push(d),_.value++,de(),d.routeData===void 0||i.$route===void 0?y(()=>{if(F.value===!0){const M=V.value,O=M!=null&&M!==""?D.find(K=>K.name.value===M):null;O&&re(O.rootRef.value)}}):(Qe(),d.routeData.hasRouterLink.value===!0&&ge())}function oe(d){D.splice(D.indexOf(d),1),_.value--,de(),G!==void 0&&d.routeData!==void 0&&(D.every(M=>M.routeData===void 0)===!0&&G(),ge())}const tt={currentModel:V,tabProps:Z,hasFocus:N,hasActiveTab:h,registerTab:Pe,unregisterTab:oe,verifyRouteModel:ge,updateModel:ae,onKbdNavigate:Ze,avoidRouteWatcher:!1};aa(It,tt);function at(){U!==null&&clearTimeout(U),le(),G!==void 0&&G()}let ot;return Ct(at),oa(()=>{ot=G!==void 0,at()}),na(()=>{ot===!0&&Qe(),de()}),()=>b("div",{ref:$,class:j.value,role:"tablist",onFocusin:te,onFocusout:Ye},[b(ba,{onResize:De}),b("div",{ref:S,class:q.value,onScroll:_e},Ge(s.default)),b(ze,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Je,onTouchstartPassive:Je,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le}),b(ze,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(ne.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:je,onTouchstartPassive:je,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le})])}});function La(e){const s=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((g,i)=>{const u=parseFloat(g);u&&(s[i]=u)}),s}var Ha=la({name:"touch-swipe",beforeMount(e,{value:s,arg:g,modifiers:i}){if(i.mouse!==!0&&Ke.has.touch!==!0)return;const u=i.mouseCapture===!0?"Capture":"",c={handler:s,sensitivity:La(g),direction:qt(i),noop:sa,mouseStart(l){St(l,c)&&ia(l)&&(it(c,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),c.start(l,!0))},touchStart(l){if(St(l,c)){const w=l.target;it(c,"temp",[[w,"touchmove","move","notPassiveCapture"],[w,"touchcancel","end","notPassiveCapture"],[w,"touchend","end","notPassiveCapture"]]),c.start(l)}},start(l,w){Ke.is.firefox===!0&&ft(e,!0);const x=$t(l);c.event={x:x.left,y:x.top,time:Date.now(),mouse:w===!0,dir:!1}},move(l){if(c.event===void 0)return;if(c.event.dir!==!1){We(l);return}const w=Date.now()-c.event.time;if(w===0)return;const x=$t(l),T=x.left-c.event.x,y=Math.abs(T),v=x.top-c.event.y,$=Math.abs(v);if(c.event.mouse!==!0){if(y<c.sensitivity[1]&&$<c.sensitivity[1]){c.end(l);return}}else if(window.getSelection().toString()!==""){c.end(l);return}else if(y<c.sensitivity[2]&&$<c.sensitivity[2])return;const S=y/w,V=$/w;c.direction.vertical===!0&&y<$&&y<100&&V>c.sensitivity[0]&&(c.event.dir=v<0?"up":"down"),c.direction.horizontal===!0&&y>$&&$<100&&S>c.sensitivity[0]&&(c.event.dir=T<0?"left":"right"),c.direction.up===!0&&y<$&&v<0&&y<100&&V>c.sensitivity[0]&&(c.event.dir="up"),c.direction.down===!0&&y<$&&v>0&&y<100&&V>c.sensitivity[0]&&(c.event.dir="down"),c.direction.left===!0&&y>$&&T<0&&$<100&&S>c.sensitivity[0]&&(c.event.dir="left"),c.direction.right===!0&&y>$&&T>0&&$<100&&S>c.sensitivity[0]&&(c.event.dir="right"),c.event.dir!==!1?(We(l),c.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Da(),c.styleCleanup=F=>{c.styleCleanup=void 0,document.body.classList.remove("non-selectable");const A=()=>{document.body.classList.remove("no-pointer-events--children")};F===!0?setTimeout(A,50):A()}),c.handler({evt:l,touch:c.event.mouse!==!0,mouse:c.event.mouse,direction:c.event.dir,duration:w,distance:{x:y,y:$}})):c.end(l)},end(l){c.event!==void 0&&(ht(c,"temp"),Ke.is.firefox===!0&&ft(e,!1),c.styleCleanup!==void 0&&c.styleCleanup(!0),l!==void 0&&c.event.dir!==!1&&We(l),c.event=void 0)}};if(e.__qtouchswipe=c,i.mouse===!0){const l=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";it(c,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}Ke.has.touch===!0&&it(c,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,s){const g=e.__qtouchswipe;g!==void 0&&(s.oldValue!==s.value&&(typeof s.value!="function"&&g.end(),g.handler=s.value),g.direction=qt(s.modifiers))},beforeUnmount(e){const s=e.__qtouchswipe;s!==void 0&&(ht(s,"main"),ht(s,"temp"),Ke.is.firefox===!0&&ft(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete e.__qtouchswipe)}});function Nt(){let e=Object.create(null);return{getCache:(s,g)=>e[s]===void 0?e[s]=typeof g=="function"?g():g:e[s],setCache(s,g){e[s]=g},hasCache(s){return Object.hasOwnProperty.call(e,s)},clearCache(s){s!==void 0?delete e[s]:e=Object.create(null)}}}const ja={name:{required:!0},disable:Boolean},Ft={setup(e,{slots:s}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},Ge(s.default))}},Ya={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qa=["update:modelValue","beforeTransition","transition"];function Ua(){const{props:e,emit:s,proxy:g}=Ne(),{getCache:i}=Nt();let u,c;const l=E(null),w=E(null);function x(q){const B=e.vertical===!0?"up":"left";Q((g.$q.lang.rtl===!0?-1:1)*(q.direction===B?1:-1))}const T=r(()=>[[Ha,x,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=r(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=r(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),$=r(()=>`--q-transition-duration: ${e.transitionDuration}ms`),S=r(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),V=r(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),F=r(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);me(()=>e.modelValue,(q,B)=>{const X=D(q)===!0?_(q):-1;c!==!0&&U(X===-1?0:X<_(B)?-1:1),l.value!==X&&(l.value=X,s("beforeTransition",q,B),gt(()=>{s("transition",q,B)}))});function A(){Q(1)}function ne(){Q(-1)}function ue(q){s("update:modelValue",q)}function D(q){return q!=null&&q!==""}function _(q){return u.findIndex(B=>B.props.name===q&&B.props.disable!==""&&B.props.disable!==!0)}function N(){return u.filter(q=>q.props.disable!==""&&q.props.disable!==!0)}function U(q){const B=q!==0&&e.animated===!0&&l.value!==-1?"q-transition--"+(q===-1?y.value:v.value):null;w.value!==B&&(w.value=B)}function Q(q,B=l.value){let X=B+q;for(;X!==-1&&X<u.length;){const ie=u[X];if(ie!==void 0&&ie.props.disable!==""&&ie.props.disable!==!0){U(q),c=!0,s("update:modelValue",ie.props.name),setTimeout(()=>{c=!1});return}X+=q}e.infinite===!0&&u.length!==0&&B!==-1&&B!==u.length&&Q(q,q===-1?u.length:-1)}function G(){const q=_(e.modelValue);return l.value!==q&&(l.value=q),!0}function Z(){const q=D(e.modelValue)===!0&&G()&&u[l.value];return e.keepAlive===!0?[b(ca,V.value,[b(F.value===!0?i(S.value,()=>({...Ft,name:S.value})):Ft,{key:S.value,style:$.value},()=>q)])]:[b("div",{class:"q-panel scroll",style:$.value,key:S.value,role:"tabpanel"},[q])]}function h(){if(u.length!==0)return e.animated===!0?[b(Be,{name:w.value},Z)]:Z()}function I(q){return u=ra(Ge(q.default,[])).filter(B=>B.props!==null&&B.props.slot===void 0&&D(B.props.name)===!0),u.length}function j(){return u}return Object.assign(g,{next:A,previous:ne,goTo:ue}),{panelIndex:l,panelDirectives:T,updatePanelsList:I,updatePanelIndex:G,getPanelContent:h,getEnabledPanels:N,getPanels:j,isValidPanelName:D,keepAliveProps:V,needsUniqueKeepAliveWrapper:F,goToPanelByOffset:Q,goToPanel:ue,nextPanel:A,previousPanel:ne}}var Ve=Le({name:"QTabPanel",props:ja,setup(e,{slots:s}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},Ge(s.default))}}),Ka=Le({name:"QTabPanels",props:{...Ya,...xt},emits:Qa,setup(e,{slots:s}){const g=Ne(),i=Vt(e,g.proxy.$q),{updatePanelsList:u,getPanelContent:c,panelDirectives:l}=Ua(),w=r(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(s),ua("div",{class:w.value},c(),"pan",e.swipeable,()=>l.value))}});const Wa=ye({name:"KpisComponent",setup(){const e=E("flow"),s=new Bt("dashboard"),g=Oe(),i=r(()=>g.metrics),u=r(()=>{const h=i.value.spend/i.value.clicks;return h>0?parseFloat(h.toFixed(2)):0}),c=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="link_click"&&(h=j.value),j))),h}),l=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="landing_page_view"&&(h=j.value),j))),h}),w=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="video_view"&&(h=j.value),j))),h}),x=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="post_reaction"&&(h=j.value),j))),h}),T=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="page_engagement"&&(h=j.value),j))),h}),y=r(()=>{var I;let h=0;return i.value&&i.value.actions&&((I=i.value)==null||I.actions.map(j=>(j.action_type==="post_engagement"&&(h=j.value),j))),h}),v=r(()=>g.metricsOrders),$=r(()=>{const h=v.value.shopify.totalShopify/i.value.spend;return h>0?parseFloat(h.toFixed(2)):0}),S=r(()=>{const h=v.value.collectionDropi/i.value.spend*100;return h>0?parseFloat(h.toFixed(2)):0}),V=r(()=>{const h=v.value.deliveredDropiOrders/v.value.totalDropiOrders*100;return h>0?parseFloat(h.toFixed(2)):0}),F=r(()=>{const h=i.value.spend/i.value.impressions;return h>0?parseFloat(h.toFixed(2)):0}),A=r(()=>{const h=v.value.totalDropiOrders/l.value;return h>0?parseFloat(h.toFixed(2)):0}),ne=r(()=>{const h=i.value.spend/(i.value.impressions/1e3);return h>0?parseFloat(h.toFixed(2)):0}),ue=r(()=>{const h=i.value.spend/v.value.totalDropiOrders;return h>0?parseFloat(h.toFixed(2)):0}),D=r(()=>{const h=v.value.cancelledDropi/v.value.totalDropiOrders*100;return h>0?parseFloat(h.toFixed(2)):0}),_=r(()=>{const h=v.value.returnedDropiOrders/v.value.totalDropiOrders*100;return h>0?parseFloat(h.toFixed(2)):0}),N=r(()=>{const h=D.value+_.value;return v.value.totalOrdersDropiDelivered*(1-h/100)}),U=r(()=>{const h=N.value/i.value.spend*100;return h>0?parseFloat(h.toFixed(2)):0}),Q=r(()=>{const h=v.value.collectionDropi;return h>0?parseFloat(h.toFixed(2)):0}),G=r(()=>{const h=v.value.totalHistoricalDevolution/(v.value.totalDropiOrders-v.value.cancelledAndRejectedOrders-v.value.guiasAnuladas)*100;return h>0?parseFloat(h.toFixed(2)):0}),Z=r(()=>{const h=v.value.totalHistoricalCancelled/(v.value.totalDropiOrders-v.value.cancelledAndRejectedOrders-v.value.guiasAnuladas)*100;return h>0?parseFloat(h.toFixed(2)):0});return{tab:e,roas:$,utils:s,cvrTax:A,costBy1000:ne,videoViews:w,costBySell:ue,metaMetrics:i,costByClick:u,clickOnLink:c,clickToRate:F,totalIncoming:N,cancelledRate:D,ordersMetrics:v,devolutionRate:_,reactionToPost:x,pageEngagement:T,postEngagement:y,destinyPageView:l,porcentDelivered:V,totalCollection:Q,taxDevolution:G,taxCancelled:Z,collectionOverInvertion:U,collectionOverInversion:S}}}),za={class:"full-width"},Ga={style:{}},Xa={class:"row"},Ja={class:"col-12 col-md-6"},Za=t("span",{class:"text-bold"},"INVERSI\xD3N PAUTA ($)",-1),eo=t("br",null,null,-1),to={class:"col-12 col-md-6 q-pl-md"},ao=t("span",{class:"text-bold"},"VENTAS SOBRE INVERSI\xD3N (ROAS)",-1),oo=t("br",null,null,-1),no={style:{}},lo={class:"row"},so={class:"col-12 col-md-6"},io=t("span",{class:"text-bold"},"TOTAL RECAUDO ($)",-1),ro=t("br",null,null,-1),co={class:"col-12 col-md-6 q-pl-md"},uo=t("span",{class:"text-bold"},"PEDIDOS ENTREGADOS ($)",-1),vo=t("br",null,null,-1),mo={style:{}},fo={class:"row"},ho={class:"col-12 col-md-6"},po=t("span",{class:"text-bold"},"% FC (RECAUDO SOBRE INVERSI\xD3N)",-1),_o=t("br",null,null,-1),go={class:"col-12 col-md-6 q-pl-md"},bo=t("span",{class:"text-bold"},"Tasa devoluicion Historica",-1),yo=t("br",null,null,-1),Co={style:{}},wo={class:"row"},Mo={class:"col-12 col-md-6 q-p-md"},Do=t("span",{class:"text-bold"},"Tasa cancelaci\xF3n historica",-1),Po=t("br",null,null,-1),To={style:{}},$o={class:"row"},qo={class:"col-12 col-md-6"},So=t("span",{class:"text-bold"},"VENTAS SHOPIFY($)",-1),Oo=t("br",null,null,-1),ko={class:"col-12 col-md-6 q-pl-md"},Fo=t("span",{class:"text-bold"},"PEDIDOS SHOPIFY",-1),Ao=t("br",null,null,-1),Io={class:"col-12 col-md-6 q-mt-sm"},Eo=t("span",{class:"text-bold"},"VENTAS ($)",-1),xo=t("br",null,null,-1),Vo={class:"col-12 col-md-6 q-pl-md q-mt-sm"},Ro=t("span",{class:"text-bold"},"PEDIDOS GENERADOS (QT)",-1),Bo=t("br",null,null,-1),No={class:"col-12 col-md-6 q-l-md q-mt-sm"},Lo=t("span",{class:"text-bold"},"PEDIDOS SUBIDOS A PLATAFORMA (QT)",-1),Ho=t("br",null,null,-1),jo={class:"col-12 col-md-6 q-pl-md q-mt-sm"},Yo=t("span",{class:"text-bold"},"% EFECTIVIDAD CONFIRMACIONES",-1),Qo=t("br",null,null,-1),Uo={style:{}},Ko={class:"row"},Wo={class:"col-12 col-md-6"},zo=t("span",{class:"text-bold"},"PEDIDOS ENTREGADOS (QT)",-1),Go=t("br",null,null,-1),Xo={class:"col-12 col-md-6 q-pl-md"},Jo=t("span",{class:"text-bold"},"DEVUELTOS (QT)",-1),Zo=t("br",null,null,-1),en={style:{}},tn={class:"row"},an={class:"col-12 col-md-6"},on=t("span",{class:"text-bold"}," PENDIENTES (QT)",-1),nn=t("br",null,null,-1),ln={class:"col-12 col-md-6 q-pl-md"},sn=t("span",{class:"text-bold"},"CANCELADOS (QT)",-1),rn=t("br",null,null,-1),cn={style:{}},un={class:"row"},dn={class:"col-12 col-md-6"},vn=t("span",{class:"text-bold"}," PENDIENTES DE CONFIRMACI\xD3N (QT)",-1),mn=t("br",null,null,-1),fn={class:"col-12 col-md-6 q-pl-md"},hn=t("span",{class:"text-bold"},"RECHAZADOS (QT)",-1),pn=t("br",null,null,-1),_n=t("span",{class:"text-bold"},"% EFECTIVIDAD ENTREGAS",-1),gn=t("br",null,null,-1),bn={style:{}},yn={class:"row"},Cn={class:"col-12 col-md-6"},wn=t("span",{class:"text-bold"},"CPC (Costo por clic)",-1),Mn=t("br",null,null,-1),Dn={class:"col-12 col-md-6 q-pl-md"},Pn=t("span",{class:"text-bold"}," CTR (CLIC TO RATE)",-1),Tn=t("br",null,null,-1),$n={style:{}},qn={class:"row"},Sn={class:"col-12 col-md-6"},On=t("span",{class:"text-bold"},"CVR (TASA DE CONVERSION)",-1),kn=t("br",null,null,-1),Fn={class:"col-12 col-md-6 q-pl-md"},An=t("span",{class:"text-bold"},"CPM (COSTO X 1000 IMPRESIONES)",-1),In=t("br",null,null,-1),En=t("span",{class:"text-bold"},"CPA (COSTO POR COMPRA)",-1),xn=t("br",null,null,-1),Vn={style:{}},Rn={class:"row"},Bn={class:"col-12 col-md-6"},Nn=t("span",{class:"text-bold"},"TASA DE DEVOLUCIONES",-1),Ln=t("br",null,null,-1),Hn={class:"col-12 col-md-6 q-pl-md"},jn=t("span",{class:"text-bold"}," TASA DE CANCELACI\xD3N",-1),Yn=t("br",null,null,-1),Qn={style:{}},Un={class:"row"},Kn={class:"col-12 col-md-6"},Wn=t("span",{class:"text-bold"},"INGRESO ESPERADO ($)",-1),zn=t("br",null,null,-1),Gn={class:"col-12 col-md-6 q-pl-md"},Xn=t("span",{class:"text-bold"},"SUBIDO A PLATAFORMA ($)",-1),Jn=t("br",null,null,-1),Zn=t("span",{class:"text-bold"},"% FC ESPERADO (RECAUDO ESPERADO SOBRE INVERSI\xD3N)",-1),el=t("br",null,null,-1),tl={style:{}},al={class:"row"},ol={class:"col-12 col-md-6"},nl=t("span",{class:"text-bold"},"Ingreso ($)",-1),ll=t("br",null,null,-1),sl={class:"col-12 col-md-6 q-pl-md"},il=t("span",{class:"text-bold"}," DESC IVA ($)",-1),rl=t("br",null,null,-1),cl={style:{}},ul={class:"row"},dl={class:"col-12 col-md-6"},vl=t("span",{class:"text-bold"}," COSTO PRODUCTO ($)",-1),ml=t("br",null,null,-1),fl={class:"col-12 col-md-6 q-pl-md"},hl=t("span",{class:"text-bold"}," IVA A FAVOR",-1),pl=t("br",null,null,-1),_l={style:{}},gl={class:"row"},bl={class:"col-12 col-md-6"},yl=t("span",{class:"text-bold"}," UTILIDAD BRUTA",-1),Cl=t("br",null,null,-1),wl={class:"col-12 col-md-6 q-pl-md"},Ml=t("span",{class:"text-bold"}," INVERSI\xD3N EN PAUTA",-1),Dl=t("br",null,null,-1),Pl={style:{}},Tl={class:"row"},$l={class:"col-12 col-md-6"},ql=t("span",{class:"text-bold"}," UTILIDAD BRUTA (CON PAUTA)",-1),Sl=t("br",null,null,-1),Ol={class:"col-12 col-md-6 q-pl-md"},kl=t("span",{class:"text-bold"}," FLETE",-1),Fl=t("br",null,null,-1),Al={style:{}},Il={class:"row"},El={class:"col-12 col-md-6"},xl=t("span",{class:"text-bold"}," FLETE DEVOLUCI\xD3N",-1),Vl=t("br",null,null,-1),Rl={class:"col-12 col-md-6 q-pl-md"},Bl=t("span",{class:"text-bold"}," FULL FILMENT",-1),Nl=t("br",null,null,-1),Ll={style:{}},Hl={class:"row"},jl={class:"col-12 col-md-6"},Yl=t("span",{class:"text-bold"}," COSTO OPERATIVO",-1),Ql=t("br",null,null,-1),Ul={class:"col-12 col-md-6 q-pl-md"},Kl=t("span",{class:"text-bold"}," 4 X 1000",-1),Wl=t("br",null,null,-1),zl={style:{}},Gl={class:"row"},Xl={class:"col-12 col-md-6"},Jl=t("span",{class:"text-bold"}," UTILIDAD AI",-1),Zl=t("br",null,null,-1),es={class:"col-12 col-md-6 q-pl-md"},ts=t("span",{class:"text-bold"}," PROVISI\xD3N ICA",-1),as=t("br",null,null,-1),os={style:{}},ns={class:"row"},ls={class:"col-12 col-md-6"},ss=t("span",{class:"text-bold"}," PROVISI\xD3N RENTA",-1),is=t("br",null,null,-1),rs={class:"col-12 col-md-6 q-pl-md"},cs=t("span",{class:"text-bold"}," UTILIDAD NETA",-1),us=t("br",null,null,-1);function ds(e,s,g,i,u,c){return fe(),be("div",za,[p(Na,{modelValue:e.tab,"onUpdate:modelValue":s[0]||(s[0]=l=>e.tab=l),dense:"","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:z(()=>[p(xe,{name:"flow",label:"Flujo de caja"}),p(xe,{name:"operation",label:"Operaci\xF3n"}),p(xe,{name:"tracking",label:"Tracking"}),p(xe,{name:"marketing",label:"Marketing"}),p(xe,{name:"flow_money",label:"Flujo de caja esperado"}),p(xe,{name:"pygdelivered",label:"P&G ENTREGADO"})]),_:1},8,["modelValue"]),p(Ka,{modelValue:e.tab,"onUpdate:modelValue":s[1]||(s[1]=l=>e.tab=l),animated:""},{default:z(()=>[p(Ve,{name:"flow"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Ga,[t("div",Xa,[t("div",Ja,[Za,eo,t("span",null,P(e.utils.formatPrice(e.metaMetrics.spend)),1)]),t("div",to,[ao,oo,t("span",null,P(e.roas),1)])])])]),t("tr",null,[t("td",no,[t("div",lo,[t("div",so,[io,ro,t("span",null,P(e.utils.formatPrice(e.totalCollection)),1)]),t("div",co,[uo,vo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalOrdersDropiDelivered)),1)])])])]),t("tr",null,[t("td",mo,[t("div",fo,[t("div",ho,[po,_o,Ie(" "+P(e.collectionOverInversion)+"% ",1)]),t("div",go,[bo,yo,Ie(" "+P(e.taxDevolution)+"% ",1)])])])]),t("tr",null,[t("td",Co,[t("div",wo,[t("div",Mo,[Do,Po,Ie(" "+P(e.taxCancelled)+"% ",1)])])])])])]),_:1})]),_:1}),p(Ve,{name:"operation"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",To,[t("div",$o,[t("div",qo,[So,Oo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.shopify.totalShopify)),1)]),t("div",ko,[Fo,Ao,t("span",null,P(e.ordersMetrics.shopify.totalOrderShopify),1)]),t("div",Io,[Eo,xo,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalMoneyInDropi)),1)]),t("div",Vo,[Ro,Bo,t("span",null,P(e.ordersMetrics.totalDropiOrders),1)]),t("div",No,[Lo,Ho,t("span",null,P(e.ordersMetrics.totalDropiOrders-e.ordersMetrics.cancelledAndRejectedOrders-e.ordersMetrics.guiasAnuladas),1)]),t("div",jo,[Yo,Qo,t("span",null,P(((e.ordersMetrics.totalDropiOrders-e.ordersMetrics.cancelledAndRejectedOrders-e.ordersMetrics.guiasAnuladas)/e.ordersMetrics.totalDropiOrders*100).toFixed(2)),1)])])])])])]),_:1})]),_:1}),p(Ve,{name:"tracking"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Uo,[t("div",Ko,[t("div",Wo,[zo,Go,t("span",null,P(e.ordersMetrics.deliveredDropiOrders),1)]),t("div",Xo,[Jo,Zo,t("span",null,P(e.ordersMetrics.returnedDropiOrders),1)])])])]),t("tr",null,[t("td",en,[t("div",tn,[t("div",an,[on,nn,t("span",null,P(e.ordersMetrics.pendingDropiOrders),1)]),t("div",ln,[sn,rn,t("span",null,P(e.ordersMetrics.cancelledDropi),1)])])])]),t("tr",null,[t("td",cn,[t("div",un,[t("div",dn,[vn,mn,t("span",null,P(e.ordersMetrics.pendingConfirmationDropiOrders),1)]),t("div",fn,[hn,pn,t("span",null,P(e.ordersMetrics.rejectedDropi),1)])])])]),t("tr",null,[t("td",null,[_n,gn,Ie(" "+P(e.porcentDelivered)+"% ",1)])])])]),_:1})]),_:1}),p(Ve,{name:"marketing"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",bn,[t("div",yn,[t("div",Cn,[wn,Mn,t("span",null," $"+P(e.costByClick),1)]),t("div",Dn,[Pn,Tn,t("span",null,P(e.clickToRate)+"% ",1)])])])]),t("tr",null,[t("td",$n,[t("div",qn,[t("div",Sn,[On,kn,t("span",null,P(e.cvrTax)+"% ",1)]),t("div",Fn,[An,In,t("span",null,P(e.utils.formatPrice(e.costBy1000)),1)])])])]),t("tr",null,[t("td",null,[En,xn,Ie(" "+P(e.utils.formatPrice(e.costBySell)),1)])])])]),_:1})]),_:1}),p(Ve,{name:"flow_money"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",Vn,[t("div",Rn,[t("div",Bn,[Nn,Ln,t("span",null,P(e.devolutionRate)+"% ",1)]),t("div",Hn,[jn,Yn,t("span",null,P(e.cancelledRate)+"% ",1)])])])]),t("tr",null,[t("td",Qn,[t("div",Un,[t("div",Kn,[Wn,zn,t("span",null,P(e.utils.formatPrice(e.totalIncoming)),1)]),t("div",Gn,[Xn,Jn,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalMoneyInDropi)),1)])])])]),t("tr",null,[t("td",null,[Zn,el,Ie(" "+P(e.collectionOverInvertion)+"% ",1)])])])]),_:1})]),_:1}),p(Ve,{name:"pygdelivered"},{default:z(()=>[p(Ee,{class:"q-pa-none shadow-0"},{default:z(()=>[t("tbody",null,[t("tr",null,[t("td",tl,[t("div",al,[t("div",ol,[nl,ll,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.totalOrdersDropiDelivered)||0),1)]),t("div",sl,[il,rl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.descIva)||0),1)])])])]),t("tr",null,[t("td",cl,[t("div",ul,[t("div",dl,[vl,ml,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.productCosto)||0),1)]),t("div",fl,[hl,pl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.ivaAFavor)||0),1)])])])]),t("tr",null,[t("td",_l,[t("div",gl,[t("div",bl,[yl,Cl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.utilidadBruta)||0),1)]),t("div",wl,[Ml,Dl,t("span",null,P(e.utils.formatPrice(e.metaMetrics.spend)),1)])])])]),t("tr",null,[t("td",Pl,[t("div",Tl,[t("div",$l,[ql,Sl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.utilidadBrutaConPauta)||0),1)]),t("div",Ol,[kl,Fl,t("span",null,P(e.utils.formatPrice(e.metaMetrics.flete)||0),1)])])])]),t("tr",null,[t("td",Al,[t("div",Il,[t("div",El,[xl,Vl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.devolucionFlete)||0),1)]),t("div",Rl,[Bl,Nl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.devolucionFlete)||0),1)])])])]),t("tr",null,[t("td",Ll,[t("div",Hl,[t("div",jl,[Yl,Ql,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.costoOperativo)||0),1)]),t("div",Ul,[Kl,Wl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.cuatroPorMil)||0),1)])])])]),t("tr",null,[t("td",zl,[t("div",Gl,[t("div",Xl,[Jl,Zl,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.utilidadIa)||0),1)]),t("div",es,[ts,as,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.provisionIca)||0),1)])])])]),t("tr",null,[t("td",os,[t("div",ns,[t("div",ls,[ss,is,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.utilidadIa)||0),1)]),t("div",rs,[cs,us,t("span",null,P(e.utils.formatPrice(e.ordersMetrics.provisionIca)||0),1)])])])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var vs=Ce(Wa,[["render",ds]]);const ms=["gregorian","persian"],fs={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ms.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},hs=["update:modelValue"];function we(e){return e.year+"/"+Se(e.month)+"/"+Se(e.day)}function ps(e,s){const g=r(()=>e.disable!==!0&&e.readonly!==!0),i=r(()=>g.value===!0?0:-1),u=r(()=>{const w=[];return e.color!==void 0&&w.push(`bg-${e.color}`),e.textColor!==void 0&&w.push(`text-${e.textColor}`),w.join(" ")});function c(){return e.locale!==void 0?{...s.lang.date,...e.locale}:s.lang.date}function l(w){const x=new Date,T=w===!0?null:0;if(e.calendar==="persian"){const y=Sa(x);return{year:y.jy,month:y.jm,day:y.jd}}return{year:x.getFullYear(),month:x.getMonth()+1,day:x.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:g,tabindex:i,headerClass:u,getLocale:c,getCurrentDate:l}}const qe=20,_s=["Calendar","Years","Months"],At=e=>_s.includes(e),_t=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Re=" \u2014 ";function Me(e){return e.year+"/"+Se(e.month)}var gs=Le({name:"QDate",props:{...fs,...da,...xt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:_t},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:_t},navigationMaxYearMonth:{type:String,validator:_t},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:At}},emits:[...hs,"rangeStart","rangeEnd","navigation"],setup(e,{slots:s,emit:g}){const{proxy:i}=Ne(),{$q:u}=i,c=Vt(e,u),{getCache:l}=Nt(),{tabindex:w,headerClass:x,getLocale:T,getCurrentDate:y}=ps(e,u);let v;const $=va(e),S=fa($),V=E(null),F=E(J()),A=E(T()),ne=r(()=>J()),ue=r(()=>T()),D=r(()=>y()),_=E(ke(F.value,A.value)),N=E(e.defaultView),U=u.lang.rtl===!0?"right":"left",Q=E(U.value),G=E(U.value),Z=_.value.year,h=E(Z-Z%qe-(Z<0?qe:0)),I=E(null),j=r(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(c.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),q=r(()=>e.color||"primary"),B=r(()=>e.textColor||"white"),X=r(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ie=r(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ae=r(()=>ie.value.filter(a=>typeof a=="string").map(a=>se(a,F.value,A.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),de=r(()=>{const a=o=>se(o,F.value,A.value);return ie.value.filter(o=>ma(o)===!0&&o.from!==void 0&&o.to!==void 0).map(o=>({from:a(o.from),to:a(o.to)})).filter(o=>o.from.dateHash!==null&&o.to.dateHash!==null&&o.from.dateHash<o.to.dateHash)}),De=r(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const o=kt(a.year,a.month,a.day);return new Date(o.gy,o.gm-1,o.gd)}),He=r(()=>e.calendar==="persian"?we:(a,o,n)=>Oa(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),o===void 0?F.value:o,n===void 0?A.value:n,a.year,a.timezoneOffset)),re=r(()=>ae.value.length+de.value.reduce((a,o)=>a+1+ka(De.value(o.to),De.value(o.from)),0)),_e=r(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(I.value!==null){const n=I.value.init,m=De.value(n);return A.value.daysShort[m.getDay()]+", "+A.value.monthsShort[n.month-1]+" "+n.day+Re+"?"}if(re.value===0)return Re;if(re.value>1)return`${re.value} ${A.value.pluralDay}`;const a=ae.value[0],o=De.value(a);return isNaN(o.valueOf())===!0?Re:A.value.headerTitle!==void 0?A.value.headerTitle(o,a):A.value.daysShort[o.getDay()]+", "+A.value.monthsShort[a.month-1]+" "+a.day}),Xe=r(()=>ae.value.concat(de.value.map(o=>o.from)).sort((o,n)=>o.year-n.year||o.month-n.month)[0]),Je=r(()=>ae.value.concat(de.value.map(o=>o.to)).sort((o,n)=>n.year-o.year||n.month-o.month)[0]),je=r(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(re.value===0)return Re;if(re.value>1){const a=Xe.value,o=Je.value,n=A.value.monthsShort;return n[a.month-1]+(a.year!==o.year?" "+a.year+Re+n[o.month-1]+" ":a.month!==o.month?Re+n[o.month-1]:"")+" "+o.year}return ae.value[0].year}),le=r(()=>{const a=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?a.reverse():a}),Ze=r(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):A.value.firstDayOfWeek),rt=r(()=>{const a=A.value.daysShort,o=Ze.value;return o>0?a.slice(o,7).concat(a.slice(0,o)):a}),he=r(()=>{const a=_.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():pt(a.year,a.month)}),et=r(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ee=r(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),te=r(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),Ye=r(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ee.value!==null&&ee.value.year>=_.value.year&&(a.year.prev=!1,ee.value.year===_.value.year&&ee.value.month>=_.value.month&&(a.month.prev=!1)),te.value!==null&&te.value.year<=_.value.year&&(a.year.next=!1,te.value.year===_.value.year&&te.value.month<=_.value.month&&(a.month.next=!1)),a}),ge=r(()=>{const a={};return ae.value.forEach(o=>{const n=Me(o);a[n]===void 0&&(a[n]=[]),a[n].push(o.day)}),a}),Qe=r(()=>{const a={};return de.value.forEach(o=>{const n=Me(o.from),m=Me(o.to);if(a[n]===void 0&&(a[n]=[]),a[n].push({from:o.from.day,to:n===m?o.to.day:void 0,range:o}),n<m){let f;const{year:H,month:C}=o.from,k=C<12?{year:H,month:C+1}:{year:H+1,month:1};for(;(f=Me(k))<=m;)a[f]===void 0&&(a[f]=[]),a[f].push({from:void 0,to:f===m?o.to.day:void 0,range:o}),k.month++,k.month>12&&(k.year++,k.month=1)}}),a}),Pe=r(()=>{if(I.value===null)return;const{init:a,initHash:o,final:n,finalHash:m}=I.value,[f,H]=o<=m?[a,n]:[n,a],C=Me(f),k=Me(H);if(C!==oe.value&&k!==oe.value)return;const Y={};return C===oe.value?(Y.from=f.day,Y.includeFrom=!0):Y.from=1,k===oe.value?(Y.to=H.day,Y.includeTo=!0):Y.to=he.value,Y}),oe=r(()=>Me(_.value)),tt=r(()=>{const a={};if(e.options===void 0){for(let n=1;n<=he.value;n++)a[n]=!0;return a}const o=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=he.value;n++){const m=oe.value+"/"+Se(n);a[n]=o(m)}return a}),at=r(()=>{const a={};if(e.events===void 0)for(let o=1;o<=he.value;o++)a[o]=!1;else{const o=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=he.value;n++){const m=oe.value+"/"+Se(n);a[n]=o(m)===!0&&et.value(m)}}return a}),ot=r(()=>{let a,o;const{year:n,month:m}=_.value;if(e.calendar!=="persian")a=new Date(n,m-1,1),o=new Date(n,m-1,0).getDate();else{const f=kt(n,m,1);a=new Date(f.gy,f.gm-1,f.gd);let H=m-1,C=n;H===0&&(H=12,C--),o=pt(C,H)}return{days:a.getDay()-Ze.value-1,endDay:o}}),d=r(()=>{const a=[],{days:o,endDay:n}=ot.value,m=o<0?o+7:o;if(m<6)for(let C=n-m;C<=n;C++)a.push({i:C,fill:!0});const f=a.length;for(let C=1;C<=he.value;C++){const k={i:C,event:at.value[C],classes:[]};tt.value[C]===!0&&(k.in=!0,k.flat=!0),a.push(k)}if(ge.value[oe.value]!==void 0&&ge.value[oe.value].forEach(C=>{const k=f+C-1;Object.assign(a[k],{selected:!0,unelevated:!0,flat:!1,color:q.value,textColor:B.value})}),Qe.value[oe.value]!==void 0&&Qe.value[oe.value].forEach(C=>{if(C.from!==void 0){const k=f+C.from-1,Y=f+(C.to||he.value)-1;for(let Ue=k;Ue<=Y;Ue++)Object.assign(a[Ue],{range:C.range,unelevated:!0,color:q.value,textColor:B.value});Object.assign(a[k],{rangeFrom:!0,flat:!1}),C.to!==void 0&&Object.assign(a[Y],{rangeTo:!0,flat:!1})}else if(C.to!==void 0){const k=f+C.to-1;for(let Y=f;Y<=k;Y++)Object.assign(a[Y],{range:C.range,unelevated:!0,color:q.value,textColor:B.value});Object.assign(a[k],{flat:!1,rangeTo:!0})}else{const k=f+he.value-1;for(let Y=f;Y<=k;Y++)Object.assign(a[Y],{range:C.range,unelevated:!0,color:q.value,textColor:B.value})}}),Pe.value!==void 0){const C=f+Pe.value.from-1,k=f+Pe.value.to-1;for(let Y=C;Y<=k;Y++)a[Y].color=q.value,a[Y].editRange=!0;Pe.value.includeFrom===!0&&(a[C].editRangeFrom=!0),Pe.value.includeTo===!0&&(a[k].editRangeTo=!0)}_.value.year===D.value.year&&_.value.month===D.value.month&&(a[f+D.value.day-1].today=!0);const H=a.length%7;if(H>0){const C=7-H;for(let k=1;k<=C;k++)a.push({i:k,fill:!0})}return a.forEach(C=>{let k="q-date__calendar-item ";C.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${C.in===!0?"in":"out"}`,C.range!==void 0&&(k+=` q-date__range${C.rangeTo===!0?"-to":C.rangeFrom===!0?"-from":""}`),C.editRange===!0&&(k+=` q-date__edit-range${C.editRangeFrom===!0?"-from":""}${C.editRangeTo===!0?"-to":""}`),(C.range!==void 0||C.editRange===!0)&&(k+=` text-${C.color}`)),C.classes=k}),a}),M=r(()=>e.disable===!0?{"aria-disabled":"true"}:{});me(()=>e.modelValue,a=>{if(v===a)v=0;else{const o=ke(F.value,A.value);Fe(o.year,o.month,o)}}),me(N,()=>{V.value!==null&&i.$el.contains(document.activeElement)===!0&&V.value.focus()}),me(()=>_.value.year+"|"+_.value.month,()=>{g("navigation",{year:_.value.year,month:_.value.month})}),me(ne,a=>{Pt(a,A.value,"mask"),F.value=a}),me(ue,a=>{Pt(F.value,a,"locale"),A.value=a});function O(){const{year:a,month:o,day:n}=D.value,m={..._.value,year:a,month:o,day:n},f=ge.value[Me(m)];(f===void 0||f.includes(m.day)===!1)&&ct(m),L(m.year,m.month)}function K(a){At(a)===!0&&(N.value=a)}function W(a,o){["month","year"].includes(a)&&(a==="month"?lt:Te)(o===!0?-1:1)}function L(a,o){N.value="Calendar",Fe(a,o)}function R(a,o){if(e.range===!1||!a){I.value=null;return}const n=Object.assign({..._.value},a),m=o!==void 0?Object.assign({..._.value},o):n;I.value={init:n,initHash:we(n),final:m,finalHash:we(m)},L(n.year,n.month)}function J(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function se(a,o,n){return Fa(a,o,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ke(a,o){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return nt();const m=n[n.length-1],f=se(m.from!==void 0?m.from:m,a,o);return f.dateHash===null?nt():f}function nt(){let a,o;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");a=parseInt(n[0],10),o=parseInt(n[1],10)}else{const n=D.value!==void 0?D.value:y();a=n.year,o=n.month}return{year:a,month:o,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+Se(o)+"/01"}}function lt(a){let o=_.value.year,n=Number(_.value.month)+a;n===13?(n=1,o++):n===0&&(n=12,o--),Fe(o,n),X.value===!0&&st("month")}function Te(a){const o=Number(_.value.year)+a;Fe(o,_.value.month),X.value===!0&&st("year")}function pe(a){Fe(a,_.value.month),N.value=e.defaultView==="Years"?"Months":"Calendar",X.value===!0&&st("year")}function Lt(a){Fe(_.value.year,a),N.value="Calendar",X.value===!0&&st("month")}function Ht(a,o){const n=ge.value[o];(n!==void 0&&n.includes(a.day)===!0?ut:ct)(a)}function $e(a){return{year:a.year,month:a.month,day:a.day}}function Fe(a,o,n){if(ee.value!==null&&a<=ee.value.year&&((o<ee.value.month||a<ee.value.year)&&(o=ee.value.month),a=ee.value.year),te.value!==null&&a>=te.value.year&&((o>te.value.month||a>te.value.year)&&(o=te.value.month),a=te.value.year),n!==void 0){const{hour:f,minute:H,second:C,millisecond:k,timezoneOffset:Y,timeHash:Ue}=n;Object.assign(_.value,{hour:f,minute:H,second:C,millisecond:k,timezoneOffset:Y,timeHash:Ue})}const m=a+"/"+Se(o)+"/01";m!==_.value.dateHash&&(Q.value=_.value.dateHash<m==(u.lang.rtl!==!0)?"left":"right",a!==_.value.year&&(G.value=Q.value),gt(()=>{h.value=a-a%qe-(a<0?qe:0),Object.assign(_.value,{year:a,month:o,day:1,dateHash:m})}))}function Mt(a,o,n){const m=a!==null&&a.length===1&&e.multiple===!1?a[0]:a;v=m;const{reason:f,details:H}=Dt(o,n);g("update:modelValue",m,f,H)}function st(a){const o=ae.value[0]!==void 0&&ae.value[0].dateHash!==null?{...ae.value[0]}:{..._.value};gt(()=>{o.year=_.value.year,o.month=_.value.month;const n=e.calendar!=="persian"?new Date(o.year,o.month,0).getDate():pt(o.year,o.month);o.day=Math.min(Math.max(1,o.day),n);const m=Ae(o);v=m;const{details:f}=Dt("",o);g("update:modelValue",m,a,f)})}function Dt(a,o){return o.from!==void 0?{reason:`${a}-range`,details:{...$e(o.target),from:$e(o.from),to:$e(o.to)}}:{reason:`${a}-day`,details:$e(o)}}function Ae(a,o,n){return a.from!==void 0?{from:He.value(a.from,o,n),to:He.value(a.to,o,n)}:He.value(a,o,n)}function ct(a){let o;if(e.multiple===!0)if(a.from!==void 0){const n=we(a.from),m=we(a.to),f=ae.value.filter(C=>C.dateHash<n||C.dateHash>m),H=de.value.filter(({from:C,to:k})=>k.dateHash<n||C.dateHash>m);o=f.concat(H).concat(a).map(C=>Ae(C))}else{const n=ie.value.slice();n.push(Ae(a)),o=n}else o=Ae(a);Mt(o,"add",a)}function ut(a){if(e.noUnset===!0)return;let o=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=Ae(a);a.from!==void 0?o=e.modelValue.filter(m=>m.from!==void 0?m.from!==n.from&&m.to!==n.to:!0):o=e.modelValue.filter(m=>m!==n),o.length===0&&(o=null)}Mt(o,"remove",a)}function Pt(a,o,n){const m=ae.value.concat(de.value).map(f=>Ae(f,a,o)).filter(f=>f.from!==void 0?f.from.dateHash!==null&&f.to.dateHash!==null:f.dateHash!==null);g("update:modelValue",(e.multiple===!0?m:m[0])||null,n)}function jt(){if(e.minimal!==!0)return b("div",{class:"q-date__header "+x.value},[b("div",{class:"relative-position"},[b(Be,{name:"q-transition--fade"},()=>b("div",{key:"h-yr-"+je.value,class:"q-date__header-subtitle q-date__header-link "+(N.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:w.value,...l("vY",{onClick(){N.value="Years"},onKeyup(a){a.keyCode===13&&(N.value="Years")}})},[je.value]))]),b("div",{class:"q-date__header-title relative-position flex no-wrap"},[b("div",{class:"relative-position col"},[b(Be,{name:"q-transition--fade"},()=>b("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(N.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:w.value,...l("vC",{onClick(){N.value="Calendar"},onKeyup(a){a.keyCode===13&&(N.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?b(ve,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:w.value,onClick:O}):null])])}function dt({label:a,type:o,key:n,dir:m,goTo:f,boundaries:H,cls:C}){return[b("div",{class:"row items-center q-date__arrow"},[b(ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:le.value[0],tabindex:w.value,disable:H.prev===!1,...l("go-#"+o,{onClick(){f(-1)}})})]),b("div",{class:"relative-position overflow-hidden flex flex-center"+C},[b(Be,{name:"q-transition--jump-"+m},()=>b("div",{key:n},[b(ve,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:w.value,...l("view#"+o,{onClick:()=>{N.value=o}})})]))]),b("div",{class:"row items-center q-date__arrow"},[b(ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:le.value[1],tabindex:w.value,disable:H.next===!1,...l("go+#"+o,{onClick(){f(1)}})})])]}const Yt={Calendar:()=>[b("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[b("div",{class:"q-date__navigation row items-center no-wrap"},dt({label:A.value.months[_.value.month-1],type:"Months",key:_.value.month,dir:Q.value,goTo:lt,boundaries:Ye.value.month,cls:" col"}).concat(dt({label:_.value.year,type:"Years",key:_.value.year,dir:G.value,goTo:Te,boundaries:Ye.value.year,cls:""}))),b("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},rt.value.map(a=>b("div",{class:"q-date__calendar-item"},[b("div",a)]))),b("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[b(Be,{name:"q-transition--slide-"+Q.value},()=>b("div",{key:oe.value,class:"q-date__calendar-days fit"},d.value.map(a=>b("div",{class:a.classes},[a.in===!0?b(ve,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:w.value,...l("day#"+a.i,{onClick:()=>{Qt(a.i)},onMouseover:()=>{Ut(a.i)}})},a.event!==!1?()=>b("div",{class:"q-date__event bg-"+a.event}):null):b("div",""+a.i)]))))])])],Months(){const a=_.value.year===D.value.year,o=m=>ee.value!==null&&_.value.year===ee.value.year&&ee.value.month>m||te.value!==null&&_.value.year===te.value.year&&te.value.month<m,n=A.value.monthsShort.map((m,f)=>{const H=_.value.month===f+1;return b("div",{class:"q-date__months-item flex flex-center"},[b(ve,{class:a===!0&&D.value.month===f+1?"q-date__today":null,flat:H!==!0,label:m,unelevated:H,color:H===!0?q.value:null,textColor:H===!0?B.value:null,tabindex:w.value,disable:o(f+1),...l("month#"+f,{onClick:()=>{Lt(f+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(b("div",{class:"row no-wrap full-width"},[dt({label:_.value.year,type:"Years",key:_.value.year,dir:G.value,goTo:Te,boundaries:Ye.value.year,cls:" col"})])),b("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const a=h.value,o=a+qe,n=[],m=f=>ee.value!==null&&ee.value.year>f||te.value!==null&&te.value.year<f;for(let f=a;f<=o;f++){const H=_.value.year===f;n.push(b("div",{class:"q-date__years-item flex flex-center"},[b(ve,{key:"yr"+f,class:D.value.year===f?"q-date__today":null,flat:!H,label:f,dense:!0,unelevated:H,color:H===!0?q.value:null,textColor:H===!0?B.value:null,tabindex:w.value,disable:m(f),...l("yr#"+f,{onClick:()=>{pe(f)}})})]))}return b("div",{class:"q-date__view q-date__years flex flex-center"},[b("div",{class:"col-auto"},[b(ve,{round:!0,dense:!0,flat:!0,icon:le.value[0],tabindex:w.value,disable:m(a),...l("y-",{onClick:()=>{h.value-=qe}})})]),b("div",{class:"q-date__years-content col self-stretch row items-center"},n),b("div",{class:"col-auto"},[b(ve,{round:!0,dense:!0,flat:!0,icon:le.value[1],tabindex:w.value,disable:m(o),...l("y+",{onClick:()=>{h.value+=qe}})})])])}};function Qt(a){const o={..._.value,day:a};if(e.range===!1){Ht(o,oe.value);return}if(I.value===null){const n=d.value.find(f=>f.fill!==!0&&f.i===a);if(e.noUnset!==!0&&n.range!==void 0){ut({target:o,from:n.range.from,to:n.range.to});return}if(n.selected===!0){ut(o);return}const m=we(o);I.value={init:o,initHash:m,final:o,finalHash:m},g("rangeStart",$e(o))}else{const n=I.value.initHash,m=we(o),f=n<=m?{from:I.value.init,to:o}:{from:o,to:I.value.init};I.value=null,ct(n===m?o:{target:o,...f}),g("rangeEnd",{from:$e(f.from),to:$e(f.to)})}}function Ut(a){if(I.value!==null){const o={..._.value,day:a};Object.assign(I.value,{final:o,finalHash:we(o)})}}return Object.assign(i,{setToday:O,setView:K,offsetCalendar:W,setCalendarTo:L,setEditingRange:R}),()=>{const a=[b("div",{class:"q-date__content col relative-position"},[b(Be,{name:"q-transition--fade"},Yt[N.value])])],o=Ge(s.default);return o!==void 0&&a.push(b("div",{class:"q-date__actions"},o)),e.name!==void 0&&e.disable!==!0&&S(a,"push"),b("div",{class:j.value,...M.value},[jt(),b("div",{ref:V,class:"q-date__main col column",tabindex:-1},a)])}}}),bs=Le({name:"QPopupProxy",props:{...Pa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:s,emit:g,attrs:i}){const{proxy:u}=Ne(),{$q:c}=u,l=E(!1),w=E(null),x=r(()=>parseInt(e.breakpoint,10)),{canShow:T}=Ta({showing:l});function y(){return c.screen.width<x.value||c.screen.height<x.value?"dialog":"menu"}const v=E(y()),$=r(()=>v.value==="menu"?{maxHeight:"99vh"}:{});me(()=>y(),F=>{l.value!==!0&&(v.value=F)});function S(F){l.value=!0,g("show",F)}function V(F){l.value=!1,v.value=y(),g("hide",F)}return Object.assign(u,{show(F){T(F)===!0&&w.value.show(F)},hide(F){w.value.hide(F)},toggle(F){w.value.toggle(F)}}),ha(u,"currentComponent",()=>({type:v.value,ref:w.value})),()=>{const F={ref:w,...$.value,...i,onShow:S,onHide:V};let A;return v.value==="dialog"?A=bt:(A=Ca,Object.assign(F,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),b(A,F,s.default)}}});const ys=ye({name:"CampaignsComponent",emits:["close-modal"],props:{campaigns:{type:Array,default:()=>[]},company:{type:String,default:()=>""}},setup(e,{emit:s}){const g=E(),i=E({campaign:"",ad:"",date:""}),u=E([]),c=E(!1),l=Oe(),w=r(()=>e.campaigns.map($=>({value:$.id,label:$.name}))),x=r(()=>{var $,S;return`${(($=i.value.date)==null?void 0:$.from)||i.value.date} - ${((S=i.value.date)==null?void 0:S.to)||i.value.date}`});return{ads:u,loading:c,filters:i,doFilter:async()=>{c.value=!0,l.setMetrics({});try{const $=`?from=${i.value.date.from||i.value.date}&to=${i.value.date.to||i.value.date}`,S=await l.listMetrics(e.company,i.value.ad||i.value.campaign,$);S.success&&(S.data.metrics&&S.data.metrics.length>0&&l.setMetrics(S.data.metrics.shift()),S.data.orderMetric&&l.setMetricsOrders(S.data.orderMetric),l.setDateFilterMetrics(i.value.date),s("close-modal"))}catch{}finally{c.value=!1}},dateLabel:x,optionsCampaigns:w,filterAdsFromCampaign:async $=>{try{const S=await l.listAds(e.company,$);S.success&&(u.value=S.data.ads.map(V=>({label:V.name,value:V.id})))}catch{}},closeDate:()=>{g.value.hide()},popupProxy:g}}}),Cs={class:"col-12"},ws=t("label",{for:"",class:"text-weight-semi-bold"},"Campa\xF1a publicitaria*",-1),Ms={class:"col-12"},Ds=t("label",{for:"",class:"text-weight-semi-bold"},"Anuncio",-1),Ps={class:"col-12 q-mt-lg"},Ts=t("label",{for:"",class:"text-weight-semi-bold"},"Rango de fecha",-1);function $s(e,s,g,i,u,c){return fe(),Rt(Aa,{class:"row filterCampaign",onSubmit:e.doFilter},{default:z(()=>[t("div",Cs,[ws,p(Ot,{"onUpdate:modelValue":[s[0]||(s[0]=l=>e.filterAdsFromCampaign(l)),s[1]||(s[1]=l=>e.filters.campaign=l)],"emit-value":"","map-options":"",dense:"",modelValue:e.filters.campaign,label:"Selecciona una opci\xF3n",options:e.optionsCampaigns,outlined:"",rounded:"",rules:[l=>!!l||"Este campo es requerido"]},null,8,["modelValue","options","rules"])]),t("div",Ms,[Ds,p(Ot,{"emit-value":"","map-options":"",dense:"",modelValue:e.filters.ad,"onUpdate:modelValue":s[2]||(s[2]=l=>e.filters.ad=l),label:"Selecciona una opci\xF3n",options:e.ads,outlined:"",rounded:""},null,8,["modelValue","options"])]),t("div",Ps,[Ts,p(pa,{dense:"",modelValue:e.dateLabel,"onUpdate:modelValue":s[4]||(s[4]=l=>e.dateLabel=l),placeholder:"Ingrese su correo electr\xF3nico",outlined:"",rounded:"",rules:[l=>!!l||"Este campo es requerido"]},{default:z(()=>[p(bs,{ref:"popupProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:z(()=>[p(gs,{mask:"YYYY-MM-DD","onUpdate:modelValue":[e.closeDate,s[3]||(s[3]=l=>e.filters.date=l)],style:{width:"420px"},range:"",minimal:"",modelValue:e.filters.date},null,8,["onUpdate:modelValue","modelValue"])]),_:1},512)]),_:1},8,["modelValue","rules"])]),t("div",{class:yt(["col-12 col-md-6 q-mt-xl",{"q-pr-sm":e.$q.screen.gt.sm}])},[Et(p(ve,{label:"Cancelar",color:"info","no-caps":"",rounded:"",outline:"",class:"full-width"},null,512),[[$a]])],2),t("div",{class:yt(["col-12 col-md-6 q-mt-xl",{"q-pl-sm":e.$q.screen.gt.sm}])},[p(ve,{loading:e.loading,type:"submit",unelevated:"",label:"Filtrar metricas",color:"primary","no-caps":"",rounded:"",class:"full-width"},null,8,["loading"])],2)]),_:1},8,["onSubmit"])}var qs=Ce(ys,[["render",$s]]);const Ss=ye({name:"MainCardComponent",props:{title:{type:String,default:"Flujo de caja"},amount:{type:Number,default:0},label:{type:String,default:"-"},icon:{type:String,default:"img:/images/calculator.svg"},isPrice:{type:Boolean,default:!0},isYellow:{type:Boolean,default:!1},isGreen:{type:Boolean,default:!1}},setup(){return{utils:new Bt("dashboard")}}}),Os={class:"row full-width"},ks={class:"col-10 q-pt-md"},Fs={class:"title-card text-weight-semi-bold"},As={class:"amount-card text-weight-semi-bold"},Is={key:0},Es={key:1},xs={class:"label-card"},Vs={class:"col-2"},Rs={class:"icon-card"};function Bs(e,s,g,i,u,c){return fe(),be("div",{class:yt(["dashboard-card",{"is-yellow":e.isYellow,"is-green":e.isGreen}])},[t("div",Os,[t("div",ks,[t("p",Fs,P(e.title),1),t("p",As,[e.isPrice?(fe(),be("span",Is,P(e.amount>0?e.utils.formatPrice(e.amount):"$0"),1)):(fe(),be("span",Es,P(e.amount),1))]),t("p",xs,P(e.label),1)]),t("div",Vs,[t("div",Rs,[p(ze,{name:e.icon},null,8,["name"])])])])],2)}var wt=Ce(Ss,[["render",Bs]]);const Ns=ye({name:"OrdersResumeComponent",components:{MainCard:wt},setup(){const e=Oe();return{ordersMetrics:r(()=>e.metricsOrders)}}}),Ls={class:"grid-container"},Hs={class:"col-12 col-sm-6 col-md-3"},js={class:"col-12 col-sm-6 col-md-3"},Ys={class:"col-12 col-sm-6 col-md-3"},Qs={class:"col-12 col-sm-6 col-md-3"},Us={class:"col-12 col-sm-6 col-md-3"},Ks={class:"col-12 col-sm-6 col-md-3"},Ws={class:"col-12 col-sm-6 col-md-3"},zs={class:"col-12 col-sm-6 col-md-3"},Gs={class:"col-12 col-sm-6 col-md-3"},Xs={class:"col-12 col-sm-6 col-md-3"},Js={class:"col-12 col-sm-6 col-md-3"},Zs={class:"col-12 col-sm-6 col-md-3"},ei={class:"col-12 col-sm-6 col-md-3"},ti={class:"col-12 col-sm-6 col-md-3"},ai={class:"col-12 col-sm-6 col-md-3"};function oi(e,s,g,i,u,c){const l=ce("MainCard");return fe(),be("div",Ls,[t("div",Hs,[p(l,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:e.ordersMetrics.totalMoneyInDropi,label:"Ventas Dropi"},null,8,["amount"])]),t("div",js,[p(l,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:e.ordersMetrics.collectionDropi,label:"Recaudo Dropi"},null,8,["amount"])]),t("div",Ys,[p(l,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalOrdersDropiDelivered,label:"Entregado dropi"},null,8,["amount"])]),t("div",Qs,[p(l,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalFreightDelivered,label:"Flete Entregado"},null,8,["amount"])]),t("div",Us,[p(l,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalFreight,"is-green":!0,label:"Flete esperado"},null,8,["amount"])]),t("div",Ks,[p(l,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.returnedFreightDropi,label:"Flete devoluci\xF3n"},null,8,["amount"])]),t("div",Ws,[p(l,{icon:"img:/images/operation.svg","is-price":!0,title:"Operaci\xF3n",amount:e.ordersMetrics.totalHealthWellbeing,label:"Salud y bienestar"},null,8,["amount"])]),t("div",zs,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.totalDropiOrders,label:"Pedidos generados"},null,8,["amount"])]),t("div",Gs,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.deliveredDropiOrders,label:"Pedidos entregados"},null,8,["amount"])]),t("div",Xs,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.returnedDropiOrders,"is-green":!0,label:"Pedidos devueltos"},null,8,["amount"])]),t("div",Js,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.pendingDropiOrders,label:"Pedidos pendientes"},null,8,["amount"])]),t("div",Zs,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.pendingConfirmationDropiOrders,label:"Pendientes Confirmaci\xF3n"},null,8,["amount"])]),t("div",ei,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.cancelledDropi,label:"Pedidos Cancelados"},null,8,["amount"])]),t("div",ti,[p(l,{icon:"img:/images/tracking.svg","is-price":!1,title:"Tracking",amount:e.ordersMetrics.rejectedDropi,label:"Pedidos Rechazados"},null,8,["amount"])]),t("div",ai,[p(l,{icon:"img:/images/tracking.svg","is-green":!0,"is-price":!1,title:"Tracking",amount:e.ordersMetrics.cancelledAndRejectedOrders,label:"Cancelados - Rechazados"},null,8,["amount"])])])}var ni=Ce(Ns,[["render",oi]]);const li=ye({name:"ShopifyMetricsComponent",components:{MainCard:wt},setup(){const e=Oe();return{ordersMetrics:r(()=>e.metricsOrders)}}}),si={class:"grid-container"},ii={class:"col-12 col-sm-6 col-md-3"},ri={class:"col-12 col-sm-6 col-md-3"};function ci(e,s,g,i,u,c){var w,x;const l=ce("MainCard");return fe(),be("div",si,[t("div",ii,[p(l,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:(w=e.ordersMetrics.shopify.totalOrderShopify)!=null?w:0,label:"Pedidos Shopify"},null,8,["amount"])]),t("div",ri,[p(l,{icon:"img:/images/operation.svg",title:"Operaci\xF3n",amount:(x=e.ordersMetrics.shopify.totalShopify)!=null?x:0,label:"Total Shopify"},null,8,["amount"])])])}var ui=Ce(li,[["render",ci]]);const di=ye({name:"ActionMainComponent",setup(){const e={onsite_web_app_view_content:"Vista de contenido",landing_page_view:"Vista de p\xE1gina de destino","onsite_conversion.post_save":"Conversi\xF3n onsite guardada",page_engagement:"Compromiso con la p\xE1gina",post_engagement:"Compromiso con la publicaci\xF3n",view_content:"Vista de contenido",onsite_web_view_content:"Vista de contenido en web onsite",video_view:"Vista de video",omni_view_content:"Vista de contenido omni","offsite_conversion.fb_pixel_view_content":"Conversi\xF3n fuera de sitio con p\xEDxel de Facebook - Vista de contenido",post_reaction:"Reacci\xF3n a publicaci\xF3n",link_click:"Clic en enlace","consite_conversion.total_messaging_connection":"Conexi\xF3n de mensaje"},s=[{name:"desc",required:!1,label:"Acci\xF3n",align:"left",field:c=>e[c.name],sortable:!1},{name:"valor",align:"center",field:c=>`${e[c.action_type]?e[c.action_type]:c.action_type.split(".").pop()}: ${c.value}`,sortable:!1}],g=Oe(),i=E({sortBy:"desc",descending:!1,page:1,rowsPerPage:8}),u=r(()=>g.metrics.actions);return{columns:s,actions:u,actionsTypes:e,initialPagination:i}}}),vi={key:0,class:"row q-mt-lg"},mi=t("div",{class:"col-12"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas de acciones en la campa\xF1a ")],-1),fi={class:"col-12"};function hi(e,s,g,i,u,c){return e.actions&&e.actions.length>0?(fe(),be("div",vi,[mi,t("div",fi,[p(Ma,{pagination:e.initialPagination,flat:"",bordered:"",grid:"",rows:e.actions,columns:e.columns,"row-key":"name","hide-header":""},{"top-right":z(()=>[]),_:1},8,["pagination","rows","columns"])])])):_a("",!0)}var pi=Ce(di,[["render",hi]]);const _i=ye({name:"MainDashboardComponent",components:{MainCard:wt},setup(){const e=Oe(),s=r(()=>e.metrics),g=r(()=>{const T=s.value.spend/s.value.clicks;return T>0?parseFloat(T.toFixed(2)):0}),i=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="link_click"&&(T=v.value),v))),T}),u=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="landing_page_view"&&(T=v.value),v))),T}),c=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="video_view"&&(T=v.value),v))),T}),l=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="post_reaction"&&(T=v.value),v))),T}),w=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="page_engagement"&&(T=v.value),v))),T}),x=r(()=>{var y;let T=0;return s.value&&s.value.actions&&((y=s.value)==null||y.actions.map(v=>(v.action_type==="post_engagement"&&(T=v.value),v))),T});return{videoViews:c,metaMetrics:s,costByClick:g,clickOnLink:i,postEngagement:x,pageEngagement:w,reactionToPost:l,destinyPageView:u}}}),gi={class:"grid-container"},bi={class:"col-12 col-sm-6 col-md-3"},yi={class:"col-12 col-sm-6 col-md-3"},Ci={class:"col-12 col-sm-6 col-md-3"},wi={class:"col-12 col-sm-6 col-md-3"},Mi={class:"col-12 col-sm-6 col-md-3"},Di={class:"col-12 col-sm-6 col-md-3"},Pi={class:"col-12 col-sm-6 col-md-3"},Ti={class:"col-12 col-sm-6 col-md-3"},$i={class:"col-12 col-sm-6 col-md-3"},qi={class:"col-12 col-sm-6 col-md-3"};function Si(e,s,g,i,u,c){const l=ce("MainCard");return fe(),be("div",gi,[t("div",bi,[p(l,{title:"Meta",amount:e.metaMetrics.spend,label:"Gasto de campa\xF1a"},null,8,["amount"])]),t("div",yi,[p(l,{title:"Meta",amount:e.metaMetrics.impressions,isPrice:!1,label:"Impresiones totales"},null,8,["amount"])]),t("div",Ci,[p(l,{title:"Meta",amount:e.metaMetrics.clicks,isPrice:!1,label:"Clic totales"},null,8,["amount"])]),t("div",wi,[p(l,{title:"Meta",amount:e.costByClick,isPrice:!1,label:"Costo por Clic"},null,8,["amount"])]),t("div",Mi,[p(l,{icon:"img:/images/yellow-calculator.svg",title:"Meta",amount:e.clickOnLink,label:"Click en enlace",isPrice:!1,isYellow:!0},null,8,["amount"])]),t("div",Di,[p(l,{title:"Meta",amount:e.destinyPageView,isPrice:!1,label:"Vista pagina destino"},null,8,["amount"])]),t("div",Pi,[p(l,{title:"Meta",amount:e.videoViews,isPrice:!1,label:"Vista video"},null,8,["amount"])]),t("div",Ti,[p(l,{title:"Meta",amount:e.reactionToPost,isPrice:!1,label:"Reacci\xF3n publicaci\xF3n"},null,8,["amount"])]),t("div",$i,[p(l,{title:"Meta",amount:e.pageEngagement,isPrice:!1,label:"Compromiso p\xE1gina"},null,8,["amount"])]),t("div",qi,[p(l,{icon:"img:/images/yellow-calculator.svg",title:"Meta",amount:e.postEngagement,isYellow:!0,isPrice:!1,label:"Compromiso publicaci\xF3n"},null,8,["amount"])])])}var Oi=Ce(_i,[["render",Si]]);const ki=ye({name:"MainComponent",components:{Campaigns:qs,ModalCard:qa,OrdersResume:ni,KpisComponent:vs,ShopifyMetrics:ui,HeaderComponent:wa,ActionsViewComponent:pi,MainDashboardComponent:Oi},setup(){const e=E(),s=E(),g=E(!1),i=Oe(),u=E([]),c=r(()=>i.metrics),l=async()=>{try{await i.listForSelect()}catch{}},w=y=>{console.log(y)},x=async y=>{try{const v=await i.listCampaings(y);v.success&&(e.value=y,u.value=v.data.campains,s.value=!s.value)}catch{}},T=()=>{g.value=!g.value};return ga(async()=>{await l()}),Ct(()=>{i.clearCompanies()}),{openKpi:T,campaigns:u,metaMetrics:c,openModalKpis:g,doFilterByDate:w,companySelected:e,doFilterByCompany:x,openCampaignModal:s}}}),Fi={class:"full-width"},Ai=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas de la campa\xF1a ")],-1),Ii=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas Shopify ")],-1),Ei=t("div",{class:"col-12 q-mt-xl"},[t("span",{class:"text-primary text-h5 text-weight-semi-bold"}," Metricas Dropi ")],-1);function xi(e,s,g,i,u,c){const l=ce("HeaderComponent"),w=ce("MainDashboardComponent"),x=ce("ActionsViewComponent"),T=ce("ShopifyMetrics"),y=ce("OrdersResume"),v=ce("Campaigns"),$=ce("ModalCard"),S=ce("KpisComponent");return fe(),be("section",Fi,[p(l,{title:"Dashboard Financiero",onFilterByDate:e.doFilterByDate,onFilterByCompany:e.doFilterByCompany,onOpenKpi:e.openKpi},null,8,["onFilterByDate","onFilterByCompany","onOpenKpi"]),Ai,p(w,{class:"q-mt-md"}),p(x),Ii,p(T,{class:"q-mt-md"}),Ei,p(y,{class:"q-mt-md"}),p(bt,{modelValue:e.openCampaignModal,"onUpdate:modelValue":s[1]||(s[1]=V=>e.openCampaignModal=V)},{default:z(()=>[p($,{title:"Selector de campa\xF1a"},{body:z(()=>[p(v,{onCloseModal:s[0]||(s[0]=V=>e.openCampaignModal=!1),company:e.companySelected,campaigns:e.campaigns},null,8,["company","campaigns"])]),_:1})]),_:1},8,["modelValue"]),p(bt,{modelValue:e.openModalKpis,"onUpdate:modelValue":s[2]||(s[2]=V=>e.openModalKpis=V)},{default:z(()=>[p($,{class:"kpis-card",title:"KPIS"},{body:z(()=>[p(S)]),_:1})]),_:1},8,["modelValue"])])}var Vi=Ce(ki,[["render",xi]]);const Ri=ye({name:"HomePageComponent",components:{MainComponent:Vi}});function Bi(e,s,g,i,u,c){const l=ce("MainComponent");return fe(),Rt(Kt,{padding:""},{default:z(()=>[p(l)]),_:1})}var Xi=Ce(Ri,[["render",Bi]]);export{Xi as default};
